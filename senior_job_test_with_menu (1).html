<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹œë‹ˆì–´ ì¬ì·¨ì—… ì ì„± ê²€ì‚¬ - ë‚˜ì—ê²Œ ë§ëŠ” ì§ì—… ì°¾ê¸°</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ‘”</text></svg>">
    
    <!-- Supabase í´ë¼ì´ì–¸íŠ¸ ì¶”ê°€ -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
        }

        /* ì™¼ìª½ ì‚¬ì´ë“œë°” ë©”ë‰´ */
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 2px 0 20px rgba(0, 0, 0, 0.1);
            position: fixed;
            left: 0;
            top: 0;
            height: 100vh;
            padding: 30px 0;
            z-index: 100;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            padding: 0 30px 30px;
            border-bottom: 1px solid rgba(102, 126, 234, 0.2);
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }

        .sidebar-logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .sidebar-title {
            font-size: 1.4em;
            font-weight: 700;
            color: #333;
            line-height: 1.2;
        }

        .sidebar-subtitle {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        .sidebar-menu {
            padding: 30px 0;
        }

        .menu-section {
            margin-bottom: 30px;
        }

        .menu-section-title {
            font-size: 0.8em;
            color: #999;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 0 30px 15px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 15px 30px;
            color: #555;
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            font-weight: 500;
        }

        .menu-item:hover {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            border-left-color: #667eea;
            transform: translateX(5px);
        }

        .menu-item.active {
            background: rgba(102, 126, 234, 0.15);
            color: #667eea;
            border-left-color: #667eea;
        }

        .menu-item-icon {
            width: 20px;
            height: 20px;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .submenu {
            margin-left: 50px;
            border-left: 2px solid rgba(102, 126, 234, 0.1);
        }

        .submenu .menu-item {
            padding: 12px 20px;
            font-size: 0.95em;
            border-left: none;
        }

        .submenu .menu-item:hover {
            transform: translateX(3px);
        }

        /* ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€ ë²„íŠ¼ */
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 200;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 10px;
            padding: 12px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        /* ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ */
        .main-content {
            margin-left: 280px;
            flex: 1;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            max-width: 800px;
            width: 100%;
            overflow: hidden;
            position: relative;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            animation: fadeInDown 0.8s ease;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            animation: fadeInUp 0.8s ease 0.2s both;
        }

        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: white;
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }

        .content {
            padding: 40px;
        }

        .start-screen {
            text-align: center;
            animation: fadeIn 0.8s ease;
        }

        .start-screen h2 {
            color: #333;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .start-screen p {
            color: #666;
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .visitor-counter {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            display: inline-block;
            box-shadow: 0 3px 15px rgba(0, 0, 0, 0.08);
            animation: fadeIn 0.8s ease 0.4s both;
        }

        .visitor-stats {
            display: flex;
            gap: 30px;
            justify-content: center;
            align-items: center;
        }

        .stat-item {
            text-align: center;
        }

        .stat-item h3 {
            color: #667eea;
            font-size: 0.9em;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .visitor-count {
            color: #764ba2;
            font-size: 1.8em;
            font-weight: 900;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            line-height: 1;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.6);
        }

        /* ì§€ì—­êµ¬ ì…ë ¥ í™”ë©´ ìŠ¤íƒ€ì¼ */
        .location-screen {
            display: none;
            text-align: center;
            animation: fadeIn 0.8s ease;
        }

        .location-screen h2 {
            color: #333;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .location-screen p {
            color: #666;
            font-size: 1.1em;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .location-input-container {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }

        .location-input {
            width: 100%;
            padding: 20px;
            font-size: 1.2em;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            outline: none;
            transition: all 0.3s ease;
            text-align: center;
            background: white;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }

        .location-input:focus {
            border-color: #667eea;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.2);
        }

        .location-input::placeholder {
            color: #adb5bd;
            font-style: italic;
        }

        .location-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
            margin-top: 20px;
        }

        .location-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(102, 126, 234, 0.6);
        }

        .location-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.2);
        }

        .back-btn {
            background: #e9ecef;
            color: #495057;
            border: none;
            padding: 12px 30px;
            font-size: 1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 15px;
        }

        .back-btn:hover {
            background: #dee2e6;
        }

        .question-screen {
            display: none;
            animation: slideIn 0.5s ease;
        }

        .question-number {
            color: #667eea;
            font-size: 0.9em;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .question-text {
            color: #333;
            font-size: 1.4em;
            font-weight: 600;
            margin-bottom: 30px;
            line-height: 1.5;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            background: #f0f2ff;
            border-color: #667eea;
            transform: translateX(5px);
        }

        .option.selected {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-color: #667eea;
        }

        .option-letter {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: 600;
            margin-right: 15px;
        }

        .option-text {
            color: #333;
            font-size: 1.1em;
            display: inline-block;
            vertical-align: middle;
            width: calc(100% - 70px);
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 20px;
        }

        .nav-btn {
            background: #e9ecef;
            color: #495057;
            border: none;
            padding: 12px 30px;
            font-size: 1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover:not(:disabled) {
            background: #dee2e6;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .nav-btn.next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .nav-btn.next:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .result-screen {
            display: none;
            animation: fadeIn 0.8s ease;
        }

        .result-title {
            text-align: center;
            color: #333;
            font-size: 2em;
            margin-bottom: 30px;
        }

        .recommended-jobs {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .job-item {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .job-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .job-rank {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: 600;
            margin-right: 15px;
            font-size: 0.9em;
        }

        .job-name {
            font-size: 1.3em;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .job-match {
            color: #667eea;
            font-weight: 600;
            float: right;
        }

        .job-description {
            color: #666;
            line-height: 1.6;
            margin-top: 10px;
        }

        .restart-btn {
            display: block;
            margin: 30px auto 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .qualification-screen {
            display: none;
            animation: fadeIn 0.8s ease;
            text-align: center;
        }

        .qualification-screen h2 {
            color: #333;
            font-size: 1.8em;
            margin-bottom: 20px;
        }

        .selected-job {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .selected-job-name {
            color: #667eea;
            font-size: 1.4em;
            font-weight: 600;
        }

        .qualification-options {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 500px;
            margin: 0 auto;
        }

        .qual-option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        }

        .qual-option:hover {
            border-color: #667eea;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.2);
        }

        .qual-option h3 {
            color: #333;
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .qual-option p {
            color: #666;
            font-size: 1em;
            line-height: 1.5;
        }

        .back-to-results {
            margin-top: 30px;
            background: #e9ecef;
            color: #495057;
            border: none;
            padding: 12px 30px;
            font-size: 1em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .back-to-results:hover {
            background: #dee2e6;
        }

        /* ë©”ì¸ ëŒ€ì‹œë³´ë“œ ìŠ¤íƒ€ì¼ */
        .main-dashboard {
            text-align: center;
            animation: fadeIn 0.8s ease;
            padding: 20px 0;
            height: calc(100vh - 200px); /* í—¤ë”ë¥¼ ì œì™¸í•œ ì „ì²´ ë†’ì´ */
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .service-cards {
            display: flex !important;
            flex-direction: row !important; /* ì¢Œìš° ë°°ì¹˜ ê°•ì œ */
            flex-wrap: nowrap !important; /* ì¤„ë°”ê¿ˆ ë°©ì§€ */
            gap: 30px;
            margin-top: 30px;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
            align-items: stretch;
            justify-content: center;
        }

        .service-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(248, 249, 250, 0.9) 100%);
            border: 2px solid rgba(102, 126, 234, 0.1);
            border-radius: 20px;
            padding: 30px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            flex: 1; /* ì¹´ë“œë“¤ì´ ë™ì¼í•œ ë„ˆë¹„ë¥¼ ê°€ì§€ë„ë¡ */
            max-width: 450px;
            min-width: 300px;
            min-height: 320px;
        }

        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(102, 126, 234, 0.2);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .service-card:hover::before {
            opacity: 1;
        }

        .card-icon {
            font-size: 3.5em;
            margin-bottom: 15px;
            display: block;
        }

        .service-card h3 {
            color: #333;
            font-size: 1.4em;
            font-weight: 700;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .service-card p {
            color: #666;
            font-size: 0.95em;
            line-height: 1.5;
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .card-cta {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1em;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .service-card:hover .card-cta {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        /* ìê²©ì¦ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .service-card:nth-child(2)::before {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .service-card:nth-child(2) .card-cta {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .service-card:nth-child(2):hover .card-cta {
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
        }

        .service-card:nth-child(2):hover {
            box-shadow: 0 20px 50px rgba(40, 167, 69, 0.2);
            border-color: rgba(40, 167, 69, 0.3);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* íƒœë¸”ë¦¿ ë°˜ì‘í˜• - ì¢Œìš° ë°°ì¹˜ ìœ ì§€ */
        @media (max-width: 1024px) and (min-width: 769px) {
            .sidebar {
                width: 250px;
            }
            
            .main-content {
                margin-left: 250px;
            }
            
            .service-cards {
                display: flex !important;
                flex-direction: row !important; /* íƒœë¸”ë¦¿ì—ì„œë„ ì¢Œìš° ë°°ì¹˜ ê°•ì œ */
                flex-wrap: nowrap !important;
                gap: 25px;
                max-width: 800px;
            }
            
            .service-card {
                padding: 25px 20px;
                min-height: 300px;
                max-width: 380px;
                min-width: 280px;
            }
            
            .card-icon {
                font-size: 3.2em;
            }
            
            .service-card h3 {
                font-size: 1.3em;
            }
            
            .service-card p {
                font-size: 0.9em;
            }
        }

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• - ì„¸ë¡œ ë°°ì¹˜ë§Œ í—ˆìš© */
        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }

            .sidebar {
                transform: translateX(-100%);
                width: 100%;
                max-width: 280px;
            }

            .sidebar.mobile-open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: 80px 20px 20px;
            }

            .header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 30px 20px;
            }
            
            .question-text {
                font-size: 1.2em;
            }
            
            .option-text {
                font-size: 1em;
            }

            .visitor-stats {
                flex-direction: column;
                gap: 15px;
            }

            .service-cards {
                flex-direction: column; /* ëª¨ë°”ì¼ì—ì„œë§Œ ì„¸ë¡œ ë°°ì¹˜ */
                gap: 20px;
                margin-top: 20px;
            }

            .main-dashboard {
                height: auto; /* ëª¨ë°”ì¼ì—ì„œëŠ” ë†’ì´ ì œí•œ í•´ì œ */
                padding: 15px 0;
            }

            .main-dashboard h2 {
                font-size: 1.6em !important;
                margin-bottom: 15px !important;
            }

            .service-card {
                padding: 25px 20px;
                min-height: 240px;
                max-width: 100%;
            }

            .card-icon {
                font-size: 3em;
                margin-bottom: 12px;
            }

            .service-card h3 {
                font-size: 1.3em;
                margin-bottom: 12px;
            }

            .service-card p {
                font-size: 0.9em;
                margin-bottom: 15px;
            }
        }

        /* ì‚¬ì´ë“œë°” ì˜¤ë²„ë ˆì´ (ëª¨ë°”ì¼) */
        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 50;
        }

        @media (max-width: 768px) {
            .sidebar-overlay.show {
                display: block;
            }
        }
    </style>
</head>
<body>
    <!-- ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€ ë²„íŠ¼ -->
    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>

    <!-- ì‚¬ì´ë“œë°” ì˜¤ë²„ë ˆì´ (ëª¨ë°”ì¼) -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="toggleMobileMenu()"></div>

    <!-- ì™¼ìª½ ì‚¬ì´ë“œë°” ë©”ë‰´ -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <div class="sidebar-logo-icon">ğŸ‘”</div>
                <div>
                    <div class="sidebar-title">ì‹œë‹ˆì–´ ì¼€ì–´</div>
                    <div class="sidebar-subtitle">50+ ì „ìš© ì„œë¹„ìŠ¤</div>
                </div>
            </div>
        </div>

        <div class="sidebar-menu">
            <div class="menu-section">
                <div class="menu-section-title">í…ŒìŠ¤íŠ¸</div>
                <a href="javascript:void(0)" class="menu-item" onclick="showJobTest(); toggleMobileMenu();">
                    <div class="menu-item-icon">ğŸ¯</div>
                    ë‚˜ì—ê²Œ ë§ëŠ” ì§ì—… ì°¾ê¸°
                </a>
                <a href="javascript:void(0)" class="menu-item" onclick="showCertificationTest(); toggleMobileMenu();">
                    <div class="menu-item-icon">ğŸ“œ</div>
                    ë‚˜ì—ê²Œ ë§ëŠ” ìê²©ì¦ ì°¾ê¸°
                </a>
            </div>

            <div class="menu-section">
                <div class="menu-section-title">ìƒë‹´</div>
                <a href="javascript:void(0)" class="menu-item" onclick="openObiseoApp(); toggleMobileMenu();">
                    <div class="menu-item-icon">ğŸ’¼</div>
                    ì·¨ì—… ìƒë‹´
                </a>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ -->
    <div class="main-content">
        <div class="container">
            <div class="header">
                <h1>ì‹œë‹ˆì–´ ì¼€ì–´ ì„œë¹„ìŠ¤</h1>
                <p>50+ ì „ìš© ë§ì¶¤í˜• ì§„ë¡œ ë° ì·¨ì—… ì§€ì› ì„œë¹„ìŠ¤</p>
            </div>
            
            <div class="content">
                <!-- ë©”ì¸ ëŒ€ì‹œë³´ë“œ -->
                <div class="main-dashboard" id="mainDashboard">
                    <h2 style="text-align: center; color: #333; font-size: 1.8em; margin-bottom: 20px;">ì–´ë–¤ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ì‹œê² ì–´ìš”?</h2>
                    
                    <div class="service-cards">
                        <div class="service-card" onclick="showJobTest()">
                            <div class="card-icon">ğŸ¯</div>
                            <h3>ë‚˜ì—ê²Œ ë§ëŠ” ì§ì—… ì°¾ê¸°</h3>
                            <p>
                                10ê°œì˜ ì§ˆë¬¸ìœ¼ë¡œ 50ëŒ€ ì´ìƒ ì‹œë‹ˆì–´ì—ê²Œ<br>
                                ì í•©í•œ ì¬ì·¨ì—… ì§ì¢…ì„ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.<br>
                                ê²½í—˜ê³¼ ì„ í˜¸ë„ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë§ì¶¤ ì§ì—…ì„ ì°¾ì•„ë³´ì„¸ìš”.
                            </p>
                            <div class="card-cta">ì‹œì‘í•˜ê¸° â†’</div>
                        </div>
                        
                        <div class="service-card" onclick="showCertificationTest()">
                            <div class="card-icon">ğŸ“œ</div>
                            <h3>ë‚˜ì—ê²Œ ë§ëŠ” ìê²©ì¦ ì°¾ê¸°</h3>
                            <p>
                                ë‚´ì¼ë°°ì›€ì¹´ë“œë¡œ êµ­ë¹„ì§€ì› ë°›ì„ ìˆ˜ ìˆëŠ”<br>
                                ìê²©ì¦ ì¤‘ ê°€ì¥ ì í•©í•œ ë¶„ì•¼ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.<br>
                                ìƒˆë¡œìš´ ê¸°ìˆ ì„ ë°°ì›Œ ì „ë¬¸ì„±ì„ í‚¤ì›Œë³´ì„¸ìš”.
                            </p>
                            <div class="card-cta">ì‹œì‘í•˜ê¸° â†’</div>
                        </div>
                    </div>
                </div>

                <!-- ì§ì—… ê²€ì‚¬ ì˜ì—­ (ìˆ¨ê¹€) -->
                <div class="job-test-container" id="jobTestContainer" style="display: none;">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    
                    <!-- ì‹œì‘ í™”ë©´ -->
                    <div class="start-screen" id="startScreen" style="padding-top: 20px;">
                        <h2>ë‚˜ì—ê²Œ ë§ëŠ” ì§ì—… ì°¾ê¸°</h2>
                        <p>
                            ì´ ê²€ì‚¬ëŠ” ê·€í•˜ì˜ ê²½í—˜, ì„ í˜¸ë„, ì—­ëŸ‰ì„ ë°”íƒ•ìœ¼ë¡œ<br>
                            50ëŒ€ ì´ìƒ ì‹œë‹ˆì–´ì—ê²Œ ì í•©í•œ ì¬ì·¨ì—… ì§ì¢…ì„ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.<br><br>
                            ì´ 10ê°œì˜ ì§ˆë¬¸ì— ë‹µí•´ì£¼ì‹œë©´,<br>
                            ê°€ì¥ ì í•©í•œ ì§ì—… 3ê°€ì§€ë¥¼ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.
                        </p>
                        <button class="btn" onclick="showLocationScreen()">ê²€ì‚¬ ì‹œì‘í•˜ê¸°</button>
                        <div style="margin-top: 20px;">
                            <button class="back-btn" onclick="backToMainDashboard()">ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                        </div>
                    </div>

                    <!-- ì§€ì—­êµ¬ ì…ë ¥ í™”ë©´ -->
                    <div class="location-screen" id="locationScreen">
                        <h2>ê±°ì£¼ ì§€ì—­ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”</h2>
                        <p>
                            ë” ì •í™•í•œ ì·¨ì—… ì •ë³´ ì œê³µì„ ìœ„í•´<br>
                            í˜„ì¬ ê±°ì£¼í•˜ê³  ê³„ì‹  ì§€ì—­êµ¬ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.
                        </p>
                        <div class="location-input-container">
                            <input 
                                type="text" 
                                id="locationInput" 
                                class="location-input" 
                                placeholder="ì˜ˆ : ì„±ë™êµ¬"
                                maxlength="20"
                                onkeypress="handleLocationKeypress(event)"
                                oninput="checkLocationInput()"
                            >
                            <div style="margin-top: 15px;">
                                <button class="back-btn" onclick="backToStart()">ì´ì „</button>
                                <button class="location-btn" id="locationBtn" onclick="submitLocation()" disabled>
                                    ê²€ì‚¬ ì‹œì‘í•˜ê¸°
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ì§ˆë¬¸ í™”ë©´ -->
                    <div class="question-screen" id="questionScreen">
                        <div class="question-number" id="questionNumber">ì§ˆë¬¸ 1/10</div>
                        <h2 class="question-text" id="questionText"></h2>
                        <div class="options" id="options"></div>
                        <div class="navigation">
                            <button class="nav-btn" id="prevBtn" onclick="prevQuestion()">ì´ì „</button>
                        </div>
                    </div>
                    
                    <!-- ê²°ê³¼ í™”ë©´ -->
                    <div class="result-screen" id="resultScreen">
                        <h2 class="result-title">ë‹¹ì‹ ì—ê²Œ ì¶”ì²œí•˜ëŠ” ì§ì—…</h2>
                        <div class="recommended-jobs" id="recommendedJobs"></div>
                        <button class="restart-btn" onclick="restartTest()">ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸°</button>
                        <div style="margin-top: 20px;">
                            <button class="back-btn" onclick="backToMainDashboard()">ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ë©”ì¸ ëŒ€ì‹œë³´ë“œ í‘œì‹œ
        function showMainDashboard() {
            // ë©”ë‰´ active ìƒíƒœ ì´ˆê¸°í™”
            updateMenuActive(null);
            
            // mainDashboard ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
            const mainDashboard = document.getElementById('mainDashboard');
            if (!mainDashboard) {
                // ìš”ì†Œê°€ ì—†ìœ¼ë©´ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
                location.reload();
                return;
            }
            
            // ëª¨ë“  í™”ë©´ ìˆ¨ê¸°ê¸°
            mainDashboard.style.display = 'block';
            
            const jobContainer = document.getElementById('jobTestContainer');
            if (jobContainer) {
                jobContainer.style.display = 'none';
            }
            
            // ìê²©ì¦ ê´€ë ¨ ìŠ¤íƒ€ì¼ ì œê±°
            const certStyles = document.getElementById('cert-styles');
            if (certStyles) {
                certStyles.remove();
            }
        }

        // ë©”ì¸ ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°
        function backToMainDashboard() {
            // ë©”ë‰´ active ìƒíƒœ ì´ˆê¸°í™”
            updateMenuActive(null);
            
            // ì§ì—… ê²€ì‚¬ ì´ˆê¸°í™”
            currentQuestion = 0;
            answers = [];
            selectedAnswers = [];
            selectedOption = null;
            selectedJob = null;
            userLocation = '';
            
            // ëª¨ë“  ì§ì—… ê²€ì‚¬ í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('questionScreen').style.display = 'none';
            document.getElementById('locationScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('jobTestContainer').style.display = 'none';
            
            // ë©”ì¸ ëŒ€ì‹œë³´ë“œ í‘œì‹œ
            document.getElementById('mainDashboard').style.display = 'block';
            
            // í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì´ˆê¸°í™”
            document.getElementById('progressFill').style.width = '0%';
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            const locationInput = document.getElementById('locationInput');
            if (locationInput) {
                locationInput.value = '';
                checkLocationInput();
            }
        }

        // ì§ì—… ê²€ì‚¬ ì‹œì‘
        function showJobTest() {
            // ë©”ë‰´ active ìƒíƒœ ì—…ë°ì´íŠ¸
            updateMenuActive(document.querySelector('[onclick="showJobTest()"]'));
            
            // ë©”ì¸ ëŒ€ì‹œë³´ë“œ ìˆ¨ê¸°ê¸°
            document.getElementById('mainDashboard').style.display = 'none';
            
            // ì§ì—… ê²€ì‚¬ ì»¨í…Œì´ë„ˆ í‘œì‹œ
            document.getElementById('jobTestContainer').style.display = 'block';
            document.getElementById('startScreen').style.display = 'block';
            
            // ì§ì—… ê²€ì‚¬ ì´ˆê¸°í™”
            currentQuestion = 0;
            answers = [];
            selectedAnswers = [];
            selectedOption = null;
            selectedJob = null;
            userLocation = '';
            
            // í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì´ˆê¸°í™”
            document.getElementById('progressFill').style.width = '0%';
        }

        // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€ í•¨ìˆ˜
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('sidebarOverlay');
            
            sidebar.classList.toggle('mobile-open');
            overlay.classList.toggle('show');
        }

        // ì˜¤ë¹„ì„œ ì•± ì—´ê¸° í•¨ìˆ˜
        function openObiseoApp() {
            window.open('https://play.google.com/store/apps/details?id=chatGPT_for_senior.myapplication&hl=ko', '_blank');
        }

        // "ì¤€ë¹„ ì¤‘" ë©”ì‹œì§€ í‘œì‹œ í•¨ìˆ˜
        function showComingSoon(serviceName) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white;
                padding: 40px;
                border-radius: 20px;
                max-width: 400px;
                text-align: center;
                box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            `;
            
            modalContent.innerHTML = `
                <h2 style="color: #333; margin-bottom: 20px;">${serviceName}</h2>
                <p style="color: #666; line-height: 1.8; margin-bottom: 30px;">
                    í•´ë‹¹ ì„œë¹„ìŠ¤ëŠ” í˜„ì¬ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.<br>
                    ë¹ ë¥¸ ì‹œì¼ ë‚´ì— ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ì˜ˆì •ì…ë‹ˆë‹¤.
                </p>
                <button onclick="document.body.removeChild(this.parentElement.parentElement);" 
                        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                               color: white; 
                               border: none; 
                               padding: 15px 30px; 
                               border-radius: 50px; 
                               cursor: pointer;
                               font-size: 1.1em;">
                    í™•ì¸
                </button>
            `;
            
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
        }

        // ìê²©ì¦ ê²€ì‚¬ í˜ì´ì§€ í‘œì‹œ í•¨ìˆ˜
        function showCertificationTest() {
            // ë©”ë‰´ active ìƒíƒœ ì—…ë°ì´íŠ¸
            updateMenuActive(document.querySelector('[onclick="showCertificationTest()"]'));
            
            // í˜„ì¬ ì»¨í…Œì´ë„ˆ ë‚´ìš©ì„ ìê²©ì¦ ê²€ì‚¬ë¡œ êµì²´
            const container = document.querySelector('.container');
            container.innerHTML = `
                <div class="header" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">
                    <h1>ë‚´ì¼ë°°ì›€ì¹´ë“œ ìê²©ì¦ ì ì„± ê²€ì‚¬</h1>
                    <p>10ê°œì˜ ì§ˆë¬¸ìœ¼ë¡œ ì°¾ëŠ” ë‚˜ì—ê²Œ ë”± ë§ëŠ” ìê²©ì¦ê³¼ ì§ì—…</p>
                </div>
                
                <div class="progress-bar">
                    <div class="progress-fill" id="certProgressFill"></div>
                </div>
                
                <div class="content">
                    <!-- ì‹œì‘ í™”ë©´ -->
                    <div class="start-screen" id="certStartScreen">
                        <h2>í™˜ì˜í•©ë‹ˆë‹¤!</h2>
                        
                        <p>
                            ì´ ê²€ì‚¬ëŠ” ê·€í•˜ì˜ ê´€ì‹¬ì‚¬, ëŠ¥ë ¥, ì„ í˜¸ë„ë¥¼ ë°”íƒ•ìœ¼ë¡œ<br>
                            ë‚´ì¼ë°°ì›€ì¹´ë“œë¡œ êµ­ë¹„ì§€ì› ë°›ì„ ìˆ˜ ìˆëŠ” ìê²©ì¦ ì¤‘<br>
                            ê°€ì¥ ì í•©í•œ ë¶„ì•¼ë¥¼ ì¶”ì²œí•´ë“œë¦½ë‹ˆë‹¤.<br><br>
                            ì´ 10ê°œì˜ ì§ˆë¬¸ì— ë‹µí•´ì£¼ì‹œë©´,<br>
                            ì¶”ì²œ ìê²©ì¦ê³¼ ê´€ë ¨ ì§ì—… 3ê°€ì§€ë¥¼ ì•ˆë‚´í•´ë“œë¦½ë‹ˆë‹¤.
                        </p>
                        <button class="btn" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); box-shadow: 0 5px 20px rgba(40, 167, 69, 0.4);" onclick="showCertLocationScreen()">ê²€ì‚¬ ì‹œì‘í•˜ê¸°</button>
                        <div style="margin-top: 20px;">
                            <button class="back-btn" onclick="backToJobTest()">ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                        </div>
                    </div>

                    <!-- ì§€ì—­êµ¬ ì…ë ¥ í™”ë©´ -->
                    <div class="location-screen" id="certLocationScreen" style="display: none;">
                        <h2>ê±°ì£¼ ì§€ì—­ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”</h2>
                        <p>
                            ë” ì •í™•í•œ ì·¨ì—… ì •ë³´ ì œê³µì„ ìœ„í•´<br>
                            í˜„ì¬ ê±°ì£¼í•˜ê³  ê³„ì‹  ì§€ì—­êµ¬ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.
                        </p>
                        <div class="location-input-container" style="background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(32, 201, 151, 0.1) 100%);">
                            <input 
                                type="text" 
                                id="certLocationInput" 
                                class="location-input" 
                                style="border-color: #e9ecef;"
                                placeholder="ì˜ˆ : ì„±ë™êµ¬"
                                maxlength="20"
                                onkeypress="handleCertLocationKeypress(event)"
                                oninput="checkCertLocationInput()"
                            >
                            <div style="margin-top: 15px;">
                                <button class="back-btn" onclick="backToCertStart()">ì´ì „</button>
                                <button class="location-btn" id="certLocationBtn" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); box-shadow: 0 5px 20px rgba(40, 167, 69, 0.4);" onclick="submitCertLocation()" disabled>
                                    ê²€ì‚¬ ì‹œì‘í•˜ê¸°
                                </button>
                            </div>
                        </div>
                        <div style="margin-top: 20px;">
                            <button class="back-btn" onclick="backToJobTest()">ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                        </div>
                    </div>
                    
                    <!-- ì§ˆë¬¸ í™”ë©´ -->
                    <div class="question-screen" id="certQuestionScreen" style="display: none;">
                        <div class="question-number" id="certQuestionNumber" style="color: #28a745;">ì§ˆë¬¸ 1/10</div>
                        <h2 class="question-text" id="certQuestionText"></h2>
                        <div class="options" id="certOptions"></div>
                        <div class="navigation">
                            <button class="nav-btn" id="certPrevBtn" onclick="prevCertQuestion()">ì´ì „</button>
                        </div>
                    </div>
                    
                    <!-- ê²°ê³¼ í™”ë©´ -->
                    <div class="result-screen" id="certResultScreen" style="display: none;">
                        <h2 class="result-title">ë‹¹ì‹ ì—ê²Œ ì¶”ì²œí•˜ëŠ” ìê²©ì¦ê³¼ ì§ì—…</h2>
                        <div class="recommended-jobs" id="certRecommendedJobs" style="background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(32, 201, 151, 0.1) 100%);"></div>
                        <button class="restart-btn" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);" onclick="restartCertTest()">ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸°</button>
                        <div style="margin-top: 20px;">
                            <button class="back-btn" onclick="backToJobTest()">ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                        </div>
                    </div>
                </div>
            `;

            // ìê²©ì¦ ê²€ì‚¬ìš© CSS ì¶”ê°€
            addCertificationStyles();
            
            // ìê²©ì¦ ê²€ì‚¬ ì´ˆê¸°í™”
            initCertificationTest();
        }

        // ìê²©ì¦ ê²€ì‚¬ìš© ìŠ¤íƒ€ì¼ ì¶”ê°€
        function addCertificationStyles() {
            const existingStyle = document.getElementById('cert-styles');
            if (existingStyle) {
                existingStyle.remove();
            }

            const style = document.createElement('style');
            style.id = 'cert-styles';
            style.textContent = `
                .cert-required {
                    background: #e8f5e8;
                    color: #155724;
                    padding: 8px 12px;
                    border-radius: 20px;
                    font-size: 0.85em;
                    font-weight: 600;
                    margin-top: 10px;
                    display: inline-block;
                }
                
                #certOptions .option:hover {
                    background: #e8f5e8;
                    border-color: #28a745;
                }
                
                #certOptions .option.selected {
                    background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(32, 201, 151, 0.1) 100%);
                    border-color: #28a745;
                }
                
                #certOptions .option-letter {
                    background: #28a745;
                }
                
                #certLocationInput:focus {
                    border-color: #28a745;
                    box-shadow: 0 5px 20px rgba(40, 167, 69, 0.2);
                }
            `;
            document.head.appendChild(style);
        }

        // ìê²©ì¦ ê²€ì‚¬ ì´ˆê¸°í™”
        function initCertificationTest() {
            window.certCurrentQuestion = 0;
            window.certAnswers = [];
            window.certSelectedAnswers = []; // ì„ íƒí•œ ë‹µë³€ ë²ˆí˜¸ ì €ì¥ìš©
            window.certSelectedOption = null;
            window.certUserLocation = '';
        }

        // ìê²©ì¦ ê´€ë ¨ ì§ì—… ì¹´í…Œê³ ë¦¬
        const certJobCategories = {
            "ì§€ê²Œì°¨ ìš´ì „ì›": { 
                category: "ê±´ì„¤ê¸°ê³„", 
                physical: "medium", 
                technical: "medium", 
                environment: "outdoor",
                cert: "ì§€ê²Œì°¨ìš´ì „ê¸°ëŠ¥ì‚¬",
                description: "ì°½ê³ , ê³µì¥, ê±´ì„¤í˜„ì¥ì—ì„œ ì§€ê²Œì°¨ë¥¼ ìš´ì „í•˜ì—¬ í™”ë¬¼ì„ ìš´ë°˜í•˜ê³  ì ì¬í•˜ëŠ” ì—…ë¬´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["ìš´ì „", "ê¸°ê³„", "ë¬¼ë¥˜"]
            },
            "êµ´ì‚­ê¸° ìš´ì „ì›": { 
                category: "ê±´ì„¤ê¸°ê³„", 
                physical: "medium", 
                technical: "medium", 
                environment: "outdoor",
                cert: "êµ´ì‚­ê¸°ìš´ì „ê¸°ëŠ¥ì‚¬",
                description: "ê±´ì„¤í˜„ì¥ì—ì„œ êµ´ì‚­ê¸°ë¥¼ ìš´ì „í•˜ì—¬ í† ì‚¬ êµ´ì°©, ì •ì§€ì‘ì—… ë“±ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                keywords: ["ìš´ì „", "ê±´ì„¤", "ê¸°ê³„"]
            },
            "í•œì‹ ì¡°ë¦¬ì‚¬": { 
                category: "ì¡°ë¦¬", 
                physical: "high", 
                technical: "medium", 
                environment: "indoor",
                cert: "í•œì‹ì¡°ë¦¬ê¸°ëŠ¥ì‚¬",
                description: "í•œì‹ë‹¹, ê¸‰ì‹ì†Œ, í˜¸í…” ë“±ì—ì„œ í•œêµ­ ì „í†µìš”ë¦¬ë¥¼ ì¡°ë¦¬í•˜ê³  ë©”ë‰´ë¥¼ ê°œë°œí•©ë‹ˆë‹¤.",
                keywords: ["ìš”ë¦¬", "ìŒì‹", "ì„œë¹„ìŠ¤"]
            },
            "ë°©ìˆ˜ ì‹œê³µ ê¸°ìˆ ì": { 
                category: "ê±´ì„¤ê¸°ìˆ ", 
                physical: "high", 
                technical: "high", 
                environment: "outdoor",
                cert: "ë°©ìˆ˜ê¸°ëŠ¥ì‚¬",
                description: "ê±´ë¬¼ì˜ ì§€ë¶•, ì™¸ë²½, ì§€í•˜ì‹¤ ë“±ì— ë°©ìˆ˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.",
                keywords: ["ê±´ì„¤", "ì‹œê³µ", "ê¸°ìˆ "]
            },
            "ê±´ì¶• ë„ì¥ ê¸°ìˆ ì": { 
                category: "ê±´ì„¤ê¸°ìˆ ", 
                physical: "high", 
                technical: "medium", 
                environment: "mixed",
                cert: "ê±´ì¶•ë„ì¥ê¸°ëŠ¥ì‚¬",
                description: "ê±´ë¬¼ ë‚´ì™¸ë¶€ì— í˜ì¸íŠ¸ ë„ì¥ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì—¬ ë³´í˜¸ ë° ë¯¸ê´€ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.",
                keywords: ["ê±´ì„¤", "ë„ì¥", "ë¯¸ìˆ "]
            },
            "ìš”ì–‘ë³´í˜¸ì‚¬": { 
                category: "ëŒë´„", 
                physical: "medium", 
                technical: "low", 
                environment: "indoor",
                cert: "ìš”ì–‘ë³´í˜¸ì‚¬",
                description: "ê³ ë ¹ìë‚˜ ì¥ì• ì¸ì˜ ì¼ìƒìƒí™œì„ ì§€ì›í•˜ê³  ì‹ ì²´í™œë™ì„ ë„ì™€ë“œë¦¬ëŠ” ëŒë´„ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
                keywords: ["ëŒë´„", "ê°„ë³‘", "ì„œë¹„ìŠ¤"]
            },
            "ê°„í˜¸ì¡°ë¬´ì‚¬": { 
                category: "ì˜ë£Œ", 
                physical: "medium", 
                technical: "medium", 
                environment: "indoor",
                cert: "ê°„í˜¸ì¡°ë¬´ì‚¬",
                description: "ë³‘ì›, ì˜ì›ì—ì„œ ê°„í˜¸ì‚¬ë¥¼ ë³´ì¡°í•˜ì—¬ í™˜ì ëŒë´„ê³¼ ì˜ë£Œ ì§€ì› ì—…ë¬´ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                keywords: ["ì˜ë£Œ", "ê°„í˜¸", "í™˜ì"]
            },
            "ì‚°ì—…ì•ˆì „ê´€ë¦¬ì": { 
                category: "ì•ˆì „ê´€ë¦¬", 
                physical: "low", 
                technical: "high", 
                environment: "mixed",
                cert: "ì‚°ì—…ì•ˆì „ê¸°ì‚¬",
                description: "ê³µì¥, ê±´ì„¤í˜„ì¥ ë“±ì—ì„œ ì•ˆì „ì‚¬ê³  ì˜ˆë°©ê³¼ ì•ˆì „ êµìœ¡, ì•ˆì „ ì ê²€ ì—…ë¬´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["ì•ˆì „", "ê´€ë¦¬", "ì˜ˆë°©"]
            },
            "ìœ„í—˜ë¬¼ ê´€ë¦¬ì": { 
                category: "ì•ˆì „ê´€ë¦¬", 
                physical: "low", 
                technical: "high", 
                environment: "indoor",
                cert: "ìœ„í—˜ë¬¼ì‚°ì—…ê¸°ì‚¬",
                description: "í™”í•™ê³µì¥, ì£¼ìœ ì†Œ ë“±ì—ì„œ ìœ„í—˜ë¬¼ì˜ ì €ì¥, ì·¨ê¸‰, ê´€ë¦¬ ì—…ë¬´ë¥¼ ì•ˆì „í•˜ê²Œ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                keywords: ["í™”í•™", "ì•ˆì „", "ê´€ë¦¬"]
            },
            "í™˜ê²½ ê´€ë¦¬ì": { 
                category: "í™˜ê²½ê´€ë¦¬", 
                physical: "low", 
                technical: "high", 
                environment: "mixed",
                cert: "ëŒ€ê¸°í™˜ê²½ê¸°ì‚¬",
                description: "ê³µì¥, ì‚¬ì—…ì¥ì—ì„œ ëŒ€ê¸°ì˜¤ì—¼ ì¸¡ì •, í™˜ê²½ ê´€ë¦¬, í™˜ê²½ ê°œì„  ì—…ë¬´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["í™˜ê²½", "ì¸¡ì •", "ê´€ë¦¬"]
            },
            "ì‚¬ë¬´ì§ì›": { 
                category: "ì‚¬ë¬´", 
                physical: "low", 
                technical: "medium", 
                environment: "indoor",
                cert: "ì»´í“¨í„°í™œìš©ëŠ¥ë ¥ 2ê¸‰",
                description: "íšŒì‚¬ì—ì„œ ë¬¸ì„œ ì‘ì„±, ë°ì´í„° ê´€ë¦¬, ê³ ê° ì‘ëŒ€ ë“± ë‹¤ì–‘í•œ ì‚¬ë¬´ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                keywords: ["ì»´í“¨í„°", "ì‚¬ë¬´", "ë¬¸ì„œ"]
            },
            "ì œë¹µì‚¬": { 
                category: "ì¡°ë¦¬", 
                physical: "medium", 
                technical: "medium", 
                environment: "indoor",
                cert: "ì œë¹µê¸°ëŠ¥ì‚¬",
                description: "ë² ì´ì»¤ë¦¬, ì œê³¼ì ì—ì„œ ë¹µ, ì¼€ì´í¬, ê³¼ì ë“±ì„ ì œì¡°í•˜ê³  íŒë§¤í•©ë‹ˆë‹¤.",
                keywords: ["ì œë¹µ", "ë””ì €íŠ¸", "ì°½ì—…"]
            },
            "ê±´ì¶• ì„¤ê³„ì‚¬": { 
                category: "ê±´ì¶•ì„¤ê³„", 
                physical: "low", 
                technical: "high", 
                environment: "indoor",
                cert: "ê±´ì¶•ê¸°ì‚¬",
                description: "ê±´ì¶•ë¬¼ì˜ ì„¤ê³„, ê°ë¦¬, ì‹œê³µê´€ë¦¬ ë“± ê±´ì¶• ì „ë°˜ì˜ ê¸°ìˆ  ì—…ë¬´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["ì„¤ê³„", "ê±´ì¶•", "ê¸°ìˆ "]
            },
            "ìŠ¹ê°•ê¸° ì •ë¹„ì›": { 
                category: "ì „ê¸°ê¸°ê³„", 
                physical: "medium", 
                technical: "high", 
                environment: "indoor",
                cert: "ìŠ¹ê°•ê¸°ê¸°ëŠ¥ì‚¬",
                description: "ìŠ¹ê°•ê¸°ì˜ ì„¤ì¹˜, ì ê²€, ì •ë¹„ ë° ì•ˆì „ê´€ë¦¬ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                keywords: ["ìŠ¹ê°•ê¸°", "ì •ë¹„", "ì•ˆì „"]
            },
            "ì „ê¸° ê¸°ìˆ ì": { 
                category: "ì „ê¸°ê¸°ê³„", 
                physical: "medium", 
                technical: "high", 
                environment: "mixed",
                cert: "ì „ê¸°ê¸°ëŠ¥ì‚¬",
                description: "ì „ê¸°ì„¤ë¹„ì˜ ì„¤ì¹˜, ì ê²€, ìˆ˜ë¦¬ ë° ì „ê¸°ê³µì‚¬ ì—…ë¬´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["ì „ê¸°", "ì„¤ë¹„", "ê³µì‚¬"]
            },
            "ì—ë„ˆì§€ê´€ë¦¬ì": { 
                category: "í™˜ê²½ê´€ë¦¬", 
                physical: "low", 
                technical: "high", 
                environment: "indoor",
                cert: "ì—ë„ˆì§€ê´€ë¦¬ê¸°ëŠ¥ì‚¬",
                description: "ì—ë„ˆì§€ ì‚¬ìš©ëŸ‰ ë¶„ì„, ì—ë„ˆì§€ ì ˆì•½ ë°©ì•ˆ ìˆ˜ë¦½ ë° ê´€ë¦¬ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                keywords: ["ì—ë„ˆì§€", "ì ˆì•½", "ê´€ë¦¬"]
            },
            "ê³µì¡°ëƒ‰ë™ ê¸°ìˆ ì": { 
                category: "ê¸°ê³„ì„¤ë¹„", 
                physical: "medium", 
                technical: "high", 
                environment: "mixed",
                cert: "ê³µì¡°ëƒ‰ë™ê¸°ê³„ê¸°ëŠ¥ì‚¬",
                description: "ëƒ‰ë‚œë°© ì‹œì„¤, ëƒ‰ë™ì„¤ë¹„ì˜ ì„¤ì¹˜, ìš´ì „, ì ê²€ ë° ì •ë¹„ ì—…ë¬´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["ëƒ‰ë™", "ê³µì¡°", "ì„¤ë¹„"]
            },
            "ì¡°ê²½ ê¸°ìˆ ì": { 
                category: "ì¡°ê²½", 
                physical: "high", 
                technical: "medium", 
                environment: "outdoor",
                cert: "ì¡°ê²½ê¸°ëŠ¥ì‚¬",
                description: "ê³µì›, ì •ì›, ë„ì‹œë…¹ì§€ ë“±ì˜ ì¡°ê²½ ì„¤ê³„, ì‹œê³µ ë° ê´€ë¦¬ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                keywords: ["ì¡°ê²½", "ì •ì›", "ì‹ë¬¼"]
            },
            "ì†Œë°©ì„¤ë¹„ ê¸°ìˆ ì": { 
                category: "ì•ˆì „ê´€ë¦¬", 
                physical: "medium", 
                technical: "high", 
                environment: "mixed",
                cert: "ì†Œë°©ì„¤ë¹„ê¸°ì‚¬",
                description: "ì†Œë°©ì„¤ë¹„ì˜ ì„¤ê³„, ì‹œê³µ, ì ê²€ ë° í™”ì¬ ì˜ˆë°© ê´€ë ¨ ì—…ë¬´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["ì†Œë°©", "í™”ì¬ì˜ˆë°©", "ì„¤ë¹„"]
            },
            "ê²½ë¹„ì§€ë„ì‚¬": { 
                category: "ë³´ì•ˆ", 
                physical: "low", 
                technical: "medium", 
                environment: "mixed",
                cert: "ê²½ë¹„ì§€ë„ì‚¬",
                description: "ê²½ë¹„ì›ì˜ êµìœ¡, ì§€ë„, ê°ë… ë° ë³´ì•ˆê³„íš ìˆ˜ë¦½ê³¼ ê´€ë¦¬ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                keywords: ["ë³´ì•ˆ", "ê²½ë¹„", "ê´€ë¦¬"]
            }
        };

        // ìê²©ì¦ ê²€ì‚¬ ì§ˆë¬¸ë“¤
        const certQuestions = [
            {
                text: "ì–´ë–¤ ì¢…ë¥˜ì˜ ì‘ì—… í™˜ê²½ì„ ì„ í˜¸í•˜ì‹œë‚˜ìš”?",
                options: [
                    { text: "ì£¼ë¡œ ì‹¤ë‚´ì—ì„œ ì¼í•˜ëŠ” í™˜ê²½", value: { indoor: 3, outdoor: 0 } },
                    { text: "ì‹¤ë‚´ì™¸ë¥¼ ì˜¤ê°€ë©° ì¼í•˜ëŠ” í™˜ê²½", value: { indoor: 2, outdoor: 2 } },
                    { text: "ì£¼ë¡œ ì•¼ì™¸ì—ì„œ ì¼í•˜ëŠ” í™˜ê²½", value: { indoor: 0, outdoor: 3 } },
                    { text: "í™˜ê²½ì— ìƒê´€ì—†ì´ ì¼í•  ìˆ˜ ìˆìŒ", value: { indoor: 1, outdoor: 1 } }
                ]
            },
            {
                text: "ìœ¡ì²´ì  í™œë™ì— ëŒ€í•œ ì„ í˜¸ë„ëŠ” ì–´ë– ì‹ ê°€ìš”?",
                options: [
                    { text: "í™œë°œí•œ ìœ¡ì²´ í™œë™ì„ ì„ í˜¸", value: { physical: 3 } },
                    { text: "ì ë‹¹í•œ ì›€ì§ì„ì´ ìˆëŠ” ì¼ì„ ì„ í˜¸", value: { physical: 2 } },
                    { text: "ê°€ë²¼ìš´ í™œë™ ì •ë„ë§Œ ì„ í˜¸", value: { physical: 1 } },
                    { text: "ì£¼ë¡œ ì•‰ì•„ì„œ í•˜ëŠ” ì¼ì„ ì„ í˜¸", value: { physical: 0 } }
                ]
            },
            {
                text: "ê¸°ìˆ ì ì¸ ì—…ë¬´ì— ëŒ€í•œ ê´€ì‹¬ë„ëŠ”?",
                options: [
                    { text: "ë³µì¡í•œ ê¸°ìˆ ê³¼ ì „ë¬¸ì§€ì‹ì„ í™œìš©í•˜ê³  ì‹¶ìŒ", value: { technical: 3 } },
                    { text: "ì ë‹¹í•œ ìˆ˜ì¤€ì˜ ê¸°ìˆ  ìŠµë“ì€ ê°€ëŠ¥", value: { technical: 2 } },
                    { text: "ê°„ë‹¨í•œ ê¸°ìˆ  ì •ë„ë§Œ ë°°ìš°ê³  ì‹¶ìŒ", value: { technical: 1 } },
                    { text: "ê¸°ìˆ ë³´ë‹¤ëŠ” ë‹¨ìˆœí•œ ì—…ë¬´ë¥¼ ì„ í˜¸", value: { technical: 0 } }
                ]
            },
            {
                text: "ê°€ì¥ ê´€ì‹¬ ìˆëŠ” ë¶„ì•¼ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
                options: [
                    { text: "ê±´ì„¤Â·ê¸°ê³„ ë¶„ì•¼ (êµ´ì‚­ê¸°, ì§€ê²Œì°¨ ë“±)", value: { construction: 3, machine: 3 } },
                    { text: "ì¡°ë¦¬Â·ìš”ë¦¬ ë¶„ì•¼ (í•œì‹, ì œë¹µ ë“±)", value: { cooking: 3, food: 3 } },
                    { text: "ì˜ë£ŒÂ·ëŒë´„ ë¶„ì•¼ (ê°„í˜¸, ìš”ì–‘ ë“±)", value: { medical: 3, care: 3 } },
                    { text: "ì•ˆì „Â·í™˜ê²½ ë¶„ì•¼ (ì•ˆì „ê´€ë¦¬, í™˜ê²½ê´€ë¦¬ ë“±)", value: { safety: 3, environment: 3 } }
                ]
            },
            {
                text: "ì‚¬ëŒë“¤ê³¼ì˜ ìƒí˜¸ì‘ìš©ì— ëŒ€í•œ ì„ í˜¸ë„ëŠ”?",
                options: [
                    { text: "ë§ì€ ì‚¬ëŒë“¤ê³¼ ì§€ì†ì ìœ¼ë¡œ ì†Œí†µí•˜ë©° ì¼í•˜ê³  ì‹¶ìŒ", value: { social: 3 } },
                    { text: "ì ë‹¹í•œ ìˆ˜ì¤€ì˜ ì‚¬ëŒë“¤ê³¼ í˜‘ë ¥í•˜ë©° ì¼í•˜ê³  ì‹¶ìŒ", value: { social: 2 } },
                    { text: "ì†Œìˆ˜ì˜ ë™ë£Œë“¤ê³¼ í•¨ê»˜ ì¼í•˜ê³  ì‹¶ìŒ", value: { social: 1 } },
                    { text: "í˜¼ì ì§‘ì¤‘í•´ì„œ ì¼í•˜ëŠ” ê²ƒì„ ì„ í˜¸", value: { social: 0 } }
                ]
            },
            {
                text: "ìƒˆë¡œìš´ ê¸°ìˆ ì´ë‚˜ ì§€ì‹ ìŠµë“ì— ëŒ€í•œ ì˜í–¥ì€?",
                options: [
                    { text: "ì ê·¹ì ìœ¼ë¡œ ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš°ê³  ì‹¶ìŒ", value: { learning: 3 } },
                    { text: "í•„ìš”í•˜ë‹¤ë©´ êµìœ¡ì„ ë°›ì„ ì˜í–¥ì´ ìˆìŒ", value: { learning: 2 } },
                    { text: "ê°„ë‹¨í•œ êµìœ¡ ì •ë„ëŠ” ê°€ëŠ¥", value: { learning: 1 } },
                    { text: "ê¸°ì¡´ ì§€ì‹ìœ¼ë¡œ ë°”ë¡œ ì¼í•˜ê³  ì‹¶ìŒ", value: { learning: 0 } }
                ]
            },
            {
                text: "ì„ í˜¸í•˜ëŠ” ê·¼ë¬´ ì‹œê°„ëŒ€ì™€ í˜•íƒœëŠ”?",
                options: [
                    { text: "ì •ê·œ ê·¼ë¬´ ì‹œê°„ (ì˜¤ì „ 9ì‹œ ~ ì˜¤í›„ 6ì‹œ)", value: { regular: 3 } },
                    { text: "êµëŒ€ ê·¼ë¬´ë„ ê´œì°®ìŒ", value: { shift: 3 } },
                    { text: "ìœ ì—°í•œ ê·¼ë¬´ ì‹œê°„ì„ ì„ í˜¸", value: { flexible: 3 } },
                    { text: "íŒŒíŠ¸íƒ€ì„ ê·¼ë¬´ë¥¼ ì„ í˜¸", value: { parttime: 3 } }
                ]
            },
            {
                text: "ì§ì—…ì—ì„œ ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€?",
                options: [
                    { text: "ì•ˆì •ì ì¸ ì†Œë“ê³¼ ê³ ìš© ë³´ì¥", value: { stability: 3 } },
                    { text: "ì „ë¬¸ì„± í–¥ìƒê³¼ ê²½ë ¥ ê°œë°œ", value: { growth: 3 } },
                    { text: "ì‚¬íšŒì— ë„ì›€ì´ ë˜ëŠ” ë³´ëŒìˆëŠ” ì¼", value: { social_value: 3 } },
                    { text: "ì›Œë¼ë°¸ê³¼ ìŠ¤íŠ¸ë ˆìŠ¤ ì—†ëŠ” í™˜ê²½", value: { balance: 3 } }
                ]
            },
            {
                text: "ì—…ë¬´ì˜ ë°˜ë³µì„±ì— ëŒ€í•œ ì„ í˜¸ë„ëŠ”?",
                options: [
                    { text: "ë§¤ì¼ ë‹¤ì–‘í•˜ê³  ìƒˆë¡œìš´ ì—…ë¬´ë¥¼ í•˜ê³  ì‹¶ìŒ", value: { variety: 3, routine: 0 } },
                    { text: "ì–´ëŠ ì •ë„ ë³€í™”ê°€ ìˆëŠ” ì—…ë¬´ë¥¼ ì„ í˜¸", value: { variety: 2, routine: 1 } },
                    { text: "ê·œì¹™ì ì´ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì—…ë¬´ë¥¼ ì„ í˜¸", value: { variety: 0, routine: 3 } },
                    { text: "ë°˜ë³µì ì´ì§€ë§Œ ìˆ™ë ¨ë„ë¥¼ ë†’ì¼ ìˆ˜ ìˆëŠ” ì—…ë¬´", value: { variety: 1, routine: 2, skill_focus: 3 } }
                ]
            },
            {
                text: "ê³¼ê±° ê²½ë ¥ì´ë‚˜ ê´€ì‹¬ ë¶„ì•¼ëŠ”?",
                options: [
                    { text: "ì‚¬ë¬´ì§ì´ë‚˜ ê´€ë¦¬ì§ ê²½í—˜ì´ ìˆìŒ", value: { office: 3 } },
                    { text: "ê¸°ìˆ ì§ì´ë‚˜ ìƒì‚°ì§ ê²½í—˜ì´ ìˆìŒ", value: { technical_exp: 3 } },
                    { text: "ì„œë¹„ìŠ¤ì—…ì´ë‚˜ ìš”ë¦¬ ê²½í—˜ì´ ìˆìŒ", value: { service: 3 } },
                    { text: "íŠ¹ë³„í•œ ê²½ë ¥ ì—†ì´ ìƒˆë¡œìš´ ë„ì „ì„ ì›í•¨", value: { newbie: 3 } }
                ]
            }
        ];

        // ìê²©ì¦ ê²€ì‚¬ í•¨ìˆ˜ë“¤
        function showCertLocationScreen() {
            document.getElementById('certStartScreen').style.display = 'none';
            document.getElementById('certLocationScreen').style.display = 'block';
            document.getElementById('certLocationInput').focus();
        }

        function backToCertStart() {
            document.getElementById('certLocationScreen').style.display = 'none';
            document.getElementById('certStartScreen').style.display = 'block';
            document.getElementById('certLocationInput').value = '';
            checkCertLocationInput();
        }

        function checkCertLocationInput() {
            const input = document.getElementById('certLocationInput');
            const btn = document.getElementById('certLocationBtn');
            const value = input.value.trim();
            
            if (value.length > 0) {
                btn.disabled = false;
            } else {
                btn.disabled = true;
            }
        }

        function handleCertLocationKeypress(event) {
            if (event.key === 'Enter') {
                const btn = document.getElementById('certLocationBtn');
                if (!btn.disabled) {
                    submitCertLocation();
                }
            }
        }

        function submitCertLocation() {
            const input = document.getElementById('certLocationInput');
            const location = input.value.trim();
            
            if (location.length === 0) {
                alert('ì§€ì—­êµ¬ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                input.focus();
                return;
            }
            
            window.certUserLocation = location;
            startCertTest();
        }

        function startCertTest() {
            document.getElementById('certLocationScreen').style.display = 'none';
            document.getElementById('certQuestionScreen').style.display = 'block';
            showCertQuestion();
        }

        function showCertQuestion() {
            const question = certQuestions[window.certCurrentQuestion];
            document.getElementById('certQuestionNumber').textContent = `ì§ˆë¬¸ ${window.certCurrentQuestion + 1}/10`;
            document.getElementById('certQuestionText').textContent = question.text;
            
            const optionsContainer = document.getElementById('certOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.innerHTML = `
                    <span class="option-letter">${String.fromCharCode(65 + index)}</span>
                    <span class="option-text">${option.text}</span>
                `;
                optionDiv.onclick = () => selectCertOption(index);
                optionsContainer.appendChild(optionDiv);
            });
            
            updateCertProgress();
            updateCertNavigation();
            window.certSelectedOption = null;
        }

        function selectCertOption(index) {
            window.certSelectedOption = index;
            
            document.querySelectorAll('#certOptions .option').forEach((option, i) => {
                option.classList.toggle('selected', i === index);
            });
            
            setTimeout(() => {
                nextCertQuestion();
            }, 300);
        }

        function nextCertQuestion() {
            if (window.certSelectedOption === null) return;
            
            window.certAnswers[window.certCurrentQuestion] = certQuestions[window.certCurrentQuestion].options[window.certSelectedOption].value;
            window.certSelectedAnswers[window.certCurrentQuestion] = window.certSelectedOption + 1; // 1ë¶€í„° ì‹œì‘í•˜ëŠ” ë²ˆí˜¸ë¡œ ì €ì¥
            
            if (window.certCurrentQuestion < certQuestions.length - 1) {
                window.certCurrentQuestion++;
                showCertQuestion();
            } else {
                showCertResults();
            }
        }

        function prevCertQuestion() {
            if (window.certCurrentQuestion > 0) {
                window.certCurrentQuestion--;
                showCertQuestion();
            }
        }

        function updateCertProgress() {
            const progress = ((window.certCurrentQuestion + 1) / certQuestions.length) * 100;
            document.getElementById('certProgressFill').style.width = progress + '%';
        }

        function updateCertNavigation() {
            document.getElementById('certPrevBtn').disabled = window.certCurrentQuestion === 0;
        }

        function calculateCertScores() {
            const scores = {};
            
            Object.keys(certJobCategories).forEach(job => {
                scores[job] = 0;
                const jobInfo = certJobCategories[job];
                
                window.certAnswers.forEach(answer => {
                    // í™˜ê²½ ë§¤ì¹­
                    if (answer.indoor !== undefined) {
                        if (jobInfo.environment === "indoor" && answer.indoor >= 2) scores[job] += 4;
                        else if (jobInfo.environment === "mixed" && answer.indoor >= 1) scores[job] += 2;
                        else if (jobInfo.environment === "outdoor" && answer.indoor <= 1) scores[job] += 2;
                    }
                    
                    if (answer.outdoor !== undefined) {
                        if (jobInfo.environment === "outdoor" && answer.outdoor >= 2) scores[job] += 4;
                        else if (jobInfo.environment === "mixed" && answer.outdoor >= 1) scores[job] += 2;
                    }
                    
                    // ì‹ ì²´ í™œë™ ë§¤ì¹­
                    if (answer.physical !== undefined) {
                        if (jobInfo.physical === "high" && answer.physical >= 2) scores[job] += 3;
                        else if (jobInfo.physical === "medium" && answer.physical >= 1 && answer.physical <= 2) scores[job] += 3;
                        else if (jobInfo.physical === "low" && answer.physical <= 1) scores[job] += 3;
                    }
                    
                    // ê¸°ìˆ  ìˆ˜ì¤€ ë§¤ì¹­
                    if (answer.technical !== undefined) {
                        if (jobInfo.technical === "high" && answer.technical >= 2) scores[job] += 3;
                        else if (jobInfo.technical === "medium" && answer.technical >= 1 && answer.technical <= 2) scores[job] += 3;
                        else if (jobInfo.technical === "low" && answer.technical <= 1) scores[job] += 3;
                    }
                    
                    // ë¶„ì•¼ë³„ ê´€ì‹¬ì‚¬ ë§¤ì¹­
                    if (answer.construction && jobInfo.category === "ê±´ì„¤ê¸°ê³„") scores[job] += 5;
                    if (answer.machine && jobInfo.category === "ê±´ì„¤ê¸°ê³„") scores[job] += 5;
                    if (answer.cooking && jobInfo.category === "ì¡°ë¦¬") scores[job] += 5;
                    if (answer.food && jobInfo.category === "ì¡°ë¦¬") scores[job] += 5;
                    if (answer.medical && jobInfo.category === "ì˜ë£Œ") scores[job] += 5;
                    if (answer.care && jobInfo.category === "ëŒë´„") scores[job] += 5;
                    if (answer.safety && (jobInfo.category === "ì•ˆì „ê´€ë¦¬")) scores[job] += 5;
                    if (answer.environment && (jobInfo.category === "í™˜ê²½ê´€ë¦¬")) scores[job] += 5;
                    
                    // ì‚¬íšŒì„± ë§¤ì¹­
                    if (answer.social !== undefined) {
                        if ((jobInfo.category === "ì˜ë£Œ" || jobInfo.category === "ëŒë´„") && answer.social >= 2) scores[job] += 2;
                        else if (jobInfo.category === "ì‚¬ë¬´" && answer.social >= 1) scores[job] += 2;
                        else if ((jobInfo.category === "ê±´ì„¤ê¸°ê³„" || jobInfo.category === "ê±´ì„¤ê¸°ìˆ ") && answer.social <= 1) scores[job] += 2;
                    }
                    
                    // í•™ìŠµ ì˜í–¥ê³¼ ê¸°ìˆ  ìˆ˜ì¤€ ë§¤ì¹­
                    if (answer.learning !== undefined) {
                        if (jobInfo.technical === "high" && answer.learning >= 2) scores[job] += 2;
                        else if (jobInfo.technical === "low" && answer.learning <= 1) scores[job] += 2;
                    }
                    
                    // ì—…ë¬´ ë°˜ë³µì„± ì„ í˜¸ë„
                    if (answer.variety >= 2 && (jobInfo.category === "ì˜ë£Œ" || jobInfo.category === "ëŒë´„" || jobInfo.category === "ì•ˆì „ê´€ë¦¬" || jobInfo.category === "í™˜ê²½ê´€ë¦¬")) scores[job] += 3;
                    if (answer.routine >= 2 && (jobInfo.category === "ì‚¬ë¬´")) scores[job] += 3;
                    if (answer.skill_focus >= 2 && (jobInfo.category === "ê±´ì„¤ê¸°ê³„" || jobInfo.category === "ì¡°ë¦¬" || jobInfo.category === "ê±´ì„¤ê¸°ìˆ ")) scores[job] += 3;
                    
                    // ê²½ë ¥ ë§¤ì¹­
                    if (answer.office && jobInfo.category === "ì‚¬ë¬´") scores[job] += 3;
                    if (answer.technical_exp && (jobInfo.category === "ê±´ì„¤ê¸°ìˆ " || jobInfo.category === "ì•ˆì „ê´€ë¦¬" || jobInfo.category === "ì „ê¸°ê¸°ê³„")) scores[job] += 3;
                    if (answer.service && jobInfo.category === "ì¡°ë¦¬") scores[job] += 3;
                    if (answer.newbie && jobInfo.technical === "low") scores[job] += 2;
                    
                    // ì•ˆì •ì„± ì¶”êµ¬
                    if (answer.stability >= 2 && (jobInfo.category === "ì˜ë£Œ" || jobInfo.category === "ì‚¬ë¬´" || jobInfo.category === "ë³´ì•ˆ")) scores[job] += 2;
                    
                    // ì‚¬íšŒì  ê°€ì¹˜
                    if (answer.social_value >= 2 && (jobInfo.category === "ì˜ë£Œ" || jobInfo.category === "ëŒë´„" || jobInfo.category === "í™˜ê²½ê´€ë¦¬" || jobInfo.category === "ì•ˆì „ê´€ë¦¬")) scores[job] += 2;
                });
            });
            
            const sortedJobs = Object.entries(scores)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 3)
                .map(([job, score], index) => {
                    const baseRate = index === 0 ? 88 : index === 1 ? 78 : 68;
                    const bonus = Math.min(12, Math.floor(score / 3));
                    return { 
                        job, 
                        score, 
                        matchRate: baseRate + bonus
                    };
                });
            
            return sortedJobs;
        }

        function showCertResults() {
            document.getElementById('certQuestionScreen').style.display = 'none';
            document.getElementById('certResultScreen').style.display = 'block';
            
            const recommendedJobs = calculateCertScores();
            const jobsContainer = document.getElementById('certRecommendedJobs');
            jobsContainer.innerHTML = '';
            
            recommendedJobs.forEach((result, index) => {
                const jobInfo = certJobCategories[result.job];
                const jobDiv = document.createElement('div');
                jobDiv.className = 'job-item';
                jobDiv.onclick = () => showCertJobDetail(result.job);
                jobDiv.innerHTML = `
                    <div>
                        <span class="job-rank" style="background: #28a745;">${index + 1}</span>
                        <span class="job-name">${result.job}</span>
                        <span class="job-match" style="color: #28a745;">${result.matchRate}% ì í•©</span>
                    </div>
                    <div class="job-description">${jobInfo.description}</div>
                    <div class="cert-required">í•„ìš” ìê²©ì¦: ${jobInfo.cert}</div>
                `;
                jobsContainer.appendChild(jobDiv);
            });
            
            // Supabaseì— ìê²©ì¦ ê²€ì‚¬ ê²°ê³¼ ì €ì¥
            saveCertResultsToSupabase(recommendedJobs);
        }

        // Supabaseì— ìê²©ì¦ ê²€ì‚¬ ê²°ê³¼ ì €ì¥í•˜ëŠ” í•¨ìˆ˜
        async function saveCertResultsToSupabase(recommendedJobs) {
            // Supabaseê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì €ì¥í•˜ì§€ ì•ŠìŒ
            if (!supabase) {
                console.log('Supabaseê°€ ì„¤ì •ë˜ì§€ ì•Šì•„ ìê²©ì¦ ê²€ì‚¬ ê²°ê³¼ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;
            }
            
            try {
                // IP ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸° (ì„ íƒì‚¬í•­)
                let ipAddress = null;
                try {
                    const ipResponse = await fetch('https://api.ipify.org?format=json');
                    const ipData = await ipResponse.json();
                    ipAddress = ipData.ip;
                } catch (ipError) {
                    console.log('IP ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', ipError);
                }
                
                // ì„¸ì…˜ ID ê°€ì ¸ì˜¤ê¸°
                const sessionId = getOrCreateSessionId();
                
                // ì„ íƒí•œ ë‹µë³€ë“¤ì„ ë¬¸ìì—´ë¡œ ë³€í™˜ (ì˜ˆ: "1,2,4,2,1,2,3,4,1,1")
                const answersString = window.certSelectedAnswers.join(',');
                
                const { data, error } = await supabase
                    .from('senior_cert_test_results')
                    .insert([
                        {
                            session_id: sessionId,
                            job_1: recommendedJobs[0].job,
                            job_1_match_rate: recommendedJobs[0].matchRate,
                            job_1_cert: certJobCategories[recommendedJobs[0].job].cert,
                            job_2: recommendedJobs[1].job,
                            job_2_match_rate: recommendedJobs[1].matchRate,
                            job_2_cert: certJobCategories[recommendedJobs[1].job].cert,
                            job_3: recommendedJobs[2].job,
                            job_3_match_rate: recommendedJobs[2].matchRate,
                            job_3_cert: certJobCategories[recommendedJobs[2].job].cert,
                            answers: answersString,
                            location_city: window.certUserLocation,  // ì§€ì—­êµ¬ ì •ë³´ ì¶”ê°€
                            user_agent: navigator.userAgent,
                            ip_address: ipAddress,
                            test_type: 'certification'
                        }
                    ]);
                
                if (error) {
                    console.error('ìê²©ì¦ ê²€ì‚¬ ê²°ê³¼ ì €ì¥ ì¤‘ ì˜¤ë¥˜:', error);
                } else {
                    console.log('ìê²©ì¦ ê²€ì‚¬ ê²°ê³¼ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    console.log('ì‚¬ìš©ì ID:', sessionId);
                    console.log('ì‚¬ìš©ì ì§€ì—­:', window.certUserLocation);
                    console.log('ì„ íƒí•œ ë‹µë³€:', answersString);
                    console.log('ì¶”ì²œ ìê²©ì¦:', recommendedJobs.map(job => certJobCategories[job.job].cert));
                }
            } catch (err) {
                console.error('Supabase ì—°ê²° ì˜¤ë¥˜:', err);
            }
        }

        function showCertJobDetail(job) {
            const jobInfo = certJobCategories[job];
            
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white;
                padding: 40px;
                border-radius: 20px;
                max-width: 500px;
                width: 90%;
                text-align: center;
                box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            `;
            
            modalContent.innerHTML = `
                <h2 style="color: #333; margin-bottom: 10px;">${job}</h2>
                <div style="background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(32, 201, 151, 0.1) 100%);
                            border-radius: 15px;
                            padding: 20px;
                            margin-bottom: 20px;">
                    <div style="color: #28a745; font-size: 1.2em; font-weight: 600; margin-bottom: 10px;">
                        í•„ìš” ìê²©ì¦: ${jobInfo.cert}
                    </div>
                    <div style="color: #666; line-height: 1.6;">
                        ${jobInfo.description}
                    </div>
                </div>
                <p style="color: #666; margin-bottom: 30px;">
                    ë‚´ì¼ë°°ì›€ì¹´ë“œë¥¼ í™œìš©í•˜ì—¬<br>
                    <strong style="color: #28a745;">${jobInfo.cert}</strong> ìê²©ì¦ì„ ì·¨ë“í•˜ê³ <br>
                    ê´€ë ¨ ì§ì—…ì— ë„ì „í•´ë³´ì„¸ìš”!
                </p>
                <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <button onclick="
                        window.open('https://www.work24.go.kr/wk/a/b/1200/retriveDtlEmpSrchList.do?srcKeyword=${encodeURIComponent(job)}&region=11000', '_blank');
                        document.body.removeChild(this.parentElement.parentElement.parentElement);
                    " 
                            style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); 
                                   color: white; 
                                   border: none; 
                                   padding: 15px 25px; 
                                   border-radius: 50px; 
                                   cursor: pointer;
                                   font-size: 1em;
                                   margin-bottom: 10px;">
                        ì¼ìë¦¬ ì°¾ì•„ë³´ê¸°
                    </button>
                    <button onclick="
                        window.open('https://play.google.com/store/apps/details?id=chatGPT_for_senior.myapplication&hl=ko', '_blank');
                        document.body.removeChild(this.parentElement.parentElement.parentElement);
                    " 
                            style="background: #20c997; 
                                   color: white; 
                                   border: none; 
                                   padding: 15px 25px; 
                                   border-radius: 50px; 
                                   cursor: pointer;
                                   font-size: 1em;
                                   margin-bottom: 10px;">
                        ì˜¤ë¹„ì„œì—ì„œ ë” ìì„¸íˆ ì•Œì•„ë³´ê¸°
                    </button>
                </div>
                <button onclick="document.body.removeChild(this.parentElement.parentElement);" 
                        style="margin-top: 15px;
                               background: #e9ecef; 
                               color: #495057; 
                               border: none; 
                               padding: 12px 25px; 
                               border-radius: 50px; 
                               cursor: pointer;
                               font-size: 1em;">
                    ë‹«ê¸°
                </button>
            `;
            
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
        }

        function restartCertTest() {
            window.certCurrentQuestion = 0;
            window.certAnswers = [];
            window.certSelectedAnswers = []; // ì„ íƒí•œ ë‹µë³€ ì´ˆê¸°í™” ì¶”ê°€
            window.certSelectedOption = null;
            window.certUserLocation = '';
            
            document.getElementById('certResultScreen').style.display = 'none';
            document.getElementById('certQuestionScreen').style.display = 'none';
            document.getElementById('certLocationScreen').style.display = 'none';
            document.getElementById('certStartScreen').style.display = 'block';
            document.getElementById('certProgressFill').style.width = '0%';
            
            document.getElementById('certLocationInput').value = '';
            checkCertLocationInput();
        }

        function backToJobTest() {
            // ë©”ë‰´ active ìƒíƒœ ì´ˆê¸°í™”
            updateMenuActive(null);
            
            // ìê²©ì¦ ê´€ë ¨ ìŠ¤íƒ€ì¼ ì œê±°
            const certStyles = document.getElementById('cert-styles');
            if (certStyles) {
                certStyles.remove();
            }
            
            // ë©”ì¸ ëŒ€ì‹œë³´ë“œë¡œ ëŒì•„ê°€ê¸°
            showMainDashboard();
        }

        // Supabase ì´ˆê¸°í™” - ì‹¤ì œ í”„ë¡œì íŠ¸ URLê³¼ ANON KEYë¡œ êµì²´í•˜ì„¸ìš”
        const SUPABASE_URL = 'YOUR_SUPABASE_PROJECT_URL';
        const SUPABASE_ANON_KEY = 'YOUR_SUPABASE_ANON_KEY';
        
        // Supabase í´ë¼ì´ì–¸íŠ¸ ìƒì„± (ì¡°ê±´ ë³€ê²½)
        let supabase = null;
        if (SUPABASE_URL.includes('supabase.co') && SUPABASE_ANON_KEY.length > 50) {
            supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
        }
        
        // ì „ì—­ ë³€ìˆ˜
        let todayVisitorCount = 0;
        let totalVisitorCount = 0;
        let selectedAnswers = [];
        let userLocation = '';
        
        // ì˜¤ëŠ˜ ë‚ ì§œë¥¼ YYYY-MM-DD í˜•ì‹ìœ¼ë¡œ ë°˜í™˜
        function getTodayDate() {
            const today = new Date();
            return today.getFullYear() + '-' + 
                   String(today.getMonth() + 1).padStart(2, '0') + '-' + 
                   String(today.getDate()).padStart(2, '0');
        }

        // ë°©ë¬¸ì ì¹´ìš´í„° ì´ˆê¸°í™” ë° ì—…ë°ì´íŠ¸
        async function initAndUpdateVisitorCounter() {
            const today = getTodayDate();
            
            console.log('ë°©ë¬¸ì ì¹´ìš´í„° ì´ˆê¸°í™” ì‹œì‘...');
            
            // Supabase ì—°ê²°ì´ ë˜ì–´ ìˆëŠ” ê²½ìš°
            if (supabase) {
                try {
                    console.log('Supabase ì—°ê²° í™•ì¸ë¨');
                    
                    // ë¨¼ì € ë°©ë¬¸ ê¸°ë¡ ì¶”ê°€ (ë§¤ë²ˆ ì¶”ê°€ë¨)
                    await addVisitRecord();
                    
                    // ì˜¤ëŠ˜ì˜ ë°©ë¬¸ì ìˆ˜ ì¡°íšŒ
                    const { data: todayData, error: todayError } = await supabase
                        .from('senior_job_visits')
                        .select('*', { count: 'exact' })
                        .gte('visit_date', today + ' 00:00:00')
                        .lt('visit_date', today + ' 23:59:59');
                    
                    if (!todayError && todayData) {
                        todayVisitorCount = todayData.length || 1;
                        console.log('ì˜¤ëŠ˜ì˜ ë°©ë¬¸ì:', todayVisitorCount);
                    } else {
                        console.error('ì˜¤ëŠ˜ ë°©ë¬¸ì ì¡°íšŒ ì˜¤ë¥˜:', todayError);
                        todayVisitorCount = Math.floor(Math.random() * 30) + 15;
                    }
                    
                    // ì´ ë°©ë¬¸ì ìˆ˜ ì¡°íšŒ
                    const { data: totalData, error: totalError } = await supabase
                        .from('senior_job_visits')
                        .select('*', { count: 'exact' });
                    
                    if (!totalError && totalData) {
                        totalVisitorCount = totalData.length || 1;
                        console.log('ì´ ë°©ë¬¸ì:', totalVisitorCount);
                    } else {
                        console.error('ì´ ë°©ë¬¸ì ì¡°íšŒ ì˜¤ë¥˜:', totalError);
                        totalVisitorCount = Math.floor(Math.random() * 200) + 100;
                    }
                    
                } catch (error) {
                    console.error('Supabase ë°©ë¬¸ì ì¹´ìš´í„° ì˜¤ë¥˜:', error);
                    // ì˜¤ë¥˜ ì‹œ ê¸°ë³¸ê°’ ì‚¬ìš©
                    setFallbackCounts();
                }
            } else {
                console.log('Supabase ë¯¸ì—°ê²° - ë¡œì»¬ ì¹´ìš´í„° ì‚¬ìš©');
                // Supabaseê°€ ì—†ëŠ” ê²½ìš° ë¡œì»¬ ì¹´ìš´í„° ì‚¬ìš©
                setFallbackCounts();
            }
            
            // ìµœì†Œê°’ ë³´ì¥
            if (todayVisitorCount < 1) todayVisitorCount = Math.floor(Math.random() * 20) + 5;
            if (totalVisitorCount < 1) totalVisitorCount = Math.floor(Math.random() * 150) + 50;
            
            console.log('ìµœì¢… ì¹´ìš´í„° ê°’:', { todayVisitorCount, totalVisitorCount });
            
            // ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘
            animateCounters();
        }

        // ë°©ë¬¸ ê¸°ë¡ ì¶”ê°€
        async function addVisitRecord() {
            if (!supabase) return;
            
            try {
                // IP ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
                let ipAddress = null;
                try {
                    const ipResponse = await fetch('https://api.ipify.org?format=json');
                    const ipData = await ipResponse.json();
                    ipAddress = ipData.ip;
                } catch (ipError) {
                    console.log('IP ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', ipError);
                    ipAddress = 'unknown';
                }
                
                // ë°©ë¬¸ ê¸°ë¡ ì¶”ê°€
                const { data, error } = await supabase
                    .from('senior_job_visits')
                    .insert([
                        {
                            ip_address: ipAddress,
                            user_agent: navigator.userAgent,
                            visit_date: new Date().toISOString(),
                            referrer: document.referrer || null
                        }
                    ]);
                
                if (error) {
                    console.error('ë°©ë¬¸ ê¸°ë¡ ì¶”ê°€ ì˜¤ë¥˜:', error);
                } else {
                    console.log('ë°©ë¬¸ ê¸°ë¡ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
                }
            } catch (err) {
                console.error('ë°©ë¬¸ ê¸°ë¡ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜:', err);
            }
        }

        // ë¡œì»¬ ì¹´ìš´í„° ì„¤ì • (Supabase ë¯¸ì‚¬ìš©ì‹œ)
        function setFallbackCounts() {
            const today = getTodayDate();
            
            try {
                // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì¹´ìš´í„° ì •ë³´ ê°€ì ¸ì˜¤ê¸° (localStorage ìš°ì„  ì‹œë„)
                let lastVisitDate, storedTodayCount, storedTotalCount;
                
                try {
                    // localStorage ì‹œë„
                    lastVisitDate = localStorage.getItem('lastVisitDate');
                    storedTodayCount = parseInt(localStorage.getItem('todayVisitorCount') || '0');
                    storedTotalCount = parseInt(localStorage.getItem('totalVisitorCount') || '0');
                } catch (e) {
                    // localStorage ì‹¤íŒ¨ ì‹œ sessionStorage ì‚¬ìš©
                    lastVisitDate = sessionStorage.getItem('lastVisitDate');
                    storedTodayCount = parseInt(sessionStorage.getItem('todayVisitorCount') || '0');
                    storedTotalCount = parseInt(sessionStorage.getItem('totalVisitorCount') || '0');
                }
                
                // ë‚ ì§œê°€ ë°”ë€Œì—ˆìœ¼ë©´ ì˜¤ëŠ˜ ì¹´ìš´í„° ì´ˆê¸°í™”
                if (lastVisitDate !== today) {
                    todayVisitorCount = 1;
                    storedTotalCount = storedTotalCount + 1; // ì´ ë°©ë¬¸ìëŠ” ê³„ì† ì¦ê°€
                    totalVisitorCount = storedTotalCount;
                } else {
                    todayVisitorCount = storedTodayCount + 1;
                    totalVisitorCount = storedTotalCount + 1;
                }
                
                // ê°’ ì €ì¥ (localStorage ìš°ì„ , ì‹¤íŒ¨ì‹œ sessionStorage)
                try {
                    localStorage.setItem('todayVisitorCount', todayVisitorCount.toString());
                    localStorage.setItem('totalVisitorCount', totalVisitorCount.toString());
                    localStorage.setItem('lastVisitDate', today);
                } catch (e) {
                    sessionStorage.setItem('todayVisitorCount', todayVisitorCount.toString());
                    sessionStorage.setItem('totalVisitorCount', totalVisitorCount.toString());
                    sessionStorage.setItem('lastVisitDate', today);
                }
                
                console.log('ë¡œì»¬ ì¹´ìš´í„° ì„¤ì •:', { todayVisitorCount, totalVisitorCount, today });
                
            } catch (error) {
                console.error('ë¡œì»¬ ì¹´ìš´í„° ì„¤ì • ì˜¤ë¥˜:', error);
                // ê¸°ë³¸ê°’ ì„¤ì •
                todayVisitorCount = Math.floor(Math.random() * 50) + 10; // 10-60 ëœë¤
                totalVisitorCount = Math.floor(Math.random() * 500) + 100; // 100-600 ëœë¤
            }
        }

        // ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜
        function animateCounters() {
            animateCounter('todayVisitorCount', todayVisitorCount);
            animateCounter('totalVisitorCount', totalVisitorCount);
        }

        // ê°œë³„ ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜
        function animateCounter(elementId, targetCount) {
            const element = document.getElementById(elementId);
            if (!element) {
                console.error('ì¹´ìš´í„° ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', elementId);
                return;
            }
            
            let currentCount = 0;
            const increment = Math.max(1, Math.ceil(targetCount / 20));
            
            console.log(`${elementId} ì• ë‹ˆë©”ì´ì…˜ ì‹œì‘: ëª©í‘œê°’ ${targetCount}, ì¦ê°€ëŸ‰ ${increment}`);
            
            const timer = setInterval(() => {
                currentCount += increment;
                if (currentCount >= targetCount) {
                    currentCount = targetCount;
                    clearInterval(timer);
                }
                element.textContent = currentCount.toLocaleString();
            }, 80);
        }

        // ì„¸ì…˜ ID ìƒì„± ë˜ëŠ” ê°€ì ¸ì˜¤ê¸°
        function getOrCreateSessionId() {
            // Claude.ai í™˜ê²½ ì²´í¬
            const isClaudeEnvironment = typeof window !== 'undefined' && 
                                       window.location && 
                                       window.location.hostname.includes('claude.ai');
            
            let sessionId;
            
            if (isClaudeEnvironment) {
                // Claude.ai í™˜ê²½ì—ì„œëŠ” sessionStorage ì‚¬ìš© (localStorage ë¯¸ì§€ì›)
                sessionId = sessionStorage.getItem('seniorJobTestSessionId');
                if (!sessionId) {
                    sessionId = Date.now().toString(36) + '-' + Math.random().toString(36).substr(2, 9);
                    sessionStorage.setItem('seniorJobTestSessionId', sessionId);
                }
            } else {
                // ì‹¤ì œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” localStorage ì‚¬ìš© (ì˜êµ¬ ì €ì¥)
                try {
                    sessionId = localStorage.getItem('seniorJobTestUserId');
                    if (!sessionId) {
                        // ìƒˆ ì‚¬ìš©ì ID ìƒì„± (íƒ€ì„ìŠ¤íƒ¬í”„ + ëœë¤ ë¬¸ìì—´)
                        sessionId = 'user-' + Date.now().toString(36) + '-' + Math.random().toString(36).substr(2, 9);
                        localStorage.setItem('seniorJobTestUserId', sessionId);
                        
                        // ì²˜ìŒ ë°©ë¬¸ ì‹œê°„ë„ ì €ì¥
                        localStorage.setItem('seniorJobTestFirstVisit', new Date().toISOString());
                    }
                    
                    // ë§ˆì§€ë§‰ ë°©ë¬¸ ì‹œê°„ ì—…ë°ì´íŠ¸
                    localStorage.setItem('seniorJobTestLastVisit', new Date().toISOString());
                    
                    // ì´ ë°©ë¬¸ íšŸìˆ˜ ì¦ê°€
                    const visitCount = parseInt(localStorage.getItem('seniorJobTestVisitCount') || '0') + 1;
                    localStorage.setItem('seniorJobTestVisitCount', visitCount.toString());
                    
                } catch (e) {
                    // localStorage ì ‘ê·¼ ì‹¤íŒ¨ ì‹œ (ì˜ˆ: ì‹œí¬ë¦¿ ëª¨ë“œ) sessionStorage ì‚¬ìš©
                    console.log('localStorageë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. sessionStorageë¡œ ëŒ€ì²´í•©ë‹ˆë‹¤.');
                    sessionId = sessionStorage.getItem('seniorJobTestSessionId');
                    if (!sessionId) {
                        sessionId = 'temp-' + Date.now().toString(36) + '-' + Math.random().toString(36).substr(2, 9);
                        sessionStorage.setItem('seniorJobTestSessionId', sessionId);
                    }
                }
            }
            
            return sessionId;
        }

        // í˜ì´ì§€ ë¡œë“œì‹œ ë°©ë¬¸ì ì¹´ìš´í„° ì´ˆê¸°í™”
        window.addEventListener('DOMContentLoaded', function() {
            console.log('í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
            
            // ë©”ì¸ ëŒ€ì‹œë³´ë“œ í‘œì‹œ
            showMainDashboard();
            
            // ë°©ë¬¸ì ì¹´ìš´í„° ì´ˆê¸°í™” (ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì œê±°)
            // setTimeout(initAndUpdateVisitorCounter, 100);
        });

        // ë©”ë‰´ active ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateMenuActive(activeItem) {
            // ëª¨ë“  ë©”ë‰´ ì•„ì´í…œì—ì„œ active í´ë˜ìŠ¤ ì œê±°
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // íŠ¹ì • ë©”ë‰´ ì•„ì´í…œì— active í´ë˜ìŠ¤ ì¶”ê°€
            if (activeItem) {
                activeItem.classList.add('active');
            }
        }

        // ì§€ì—­êµ¬ ì…ë ¥ í™”ë©´ í‘œì‹œ
        function showLocationScreen() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('locationScreen').style.display = 'block';
            document.getElementById('locationInput').focus();
        }

        // ì‹œì‘ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°
        function backToStart() {
            document.getElementById('locationScreen').style.display = 'none';
            document.getElementById('startScreen').style.display = 'block';
            // ì…ë ¥ê°’ ì´ˆê¸°í™”
            document.getElementById('locationInput').value = '';
            checkLocationInput();
        }

        // ì§€ì—­êµ¬ ì…ë ¥ í™•ì¸
        function checkLocationInput() {
            const input = document.getElementById('locationInput');
            const btn = document.getElementById('locationBtn');
            const value = input.value.trim();
            
            if (value.length > 0) {
                btn.disabled = false;
            } else {
                btn.disabled = true;
            }
        }

        // ì—”í„°í‚¤ ì²˜ë¦¬
        function handleLocationKeypress(event) {
            if (event.key === 'Enter') {
                const btn = document.getElementById('locationBtn');
                if (!btn.disabled) {
                    submitLocation();
                }
            }
        }

        // ì§€ì—­êµ¬ ì œì¶œ
        function submitLocation() {
            const input = document.getElementById('locationInput');
            const location = input.value.trim();
            
            if (location.length === 0) {
                alert('ì§€ì—­êµ¬ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
                input.focus();
                return;
            }
            
            userLocation = location;
            console.log('ì‚¬ìš©ì ì§€ì—­:', userLocation);
            
            // ì§€ì—­êµ¬ ì…ë ¥ ì™„ë£Œ í›„ í…ŒìŠ¤íŠ¸ ì‹œì‘
            startTest();
        }

        // ë‹¨ìˆœí™”ëœ ì§ì—… ì¹´í…Œê³ ë¦¬
        const jobCategories = {
            "ëŒë´„Â·ê°„ë³‘ ì¢…ì‚¬ì": { 
                category: "ëŒë´„", 
                physical: "high", 
                social: "high", 
                stress: "medium", 
                skill: "medium", 
                description: "ê°„ë³‘ì¸, ìš”ì–‘ë³´í˜¸ì‚¬ ë“± í™˜ìì™€ ë…¸ì¸ ëŒë´„ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
                keywords: ["ìš”ì–‘", "ê°„ë³‘ì¸", "ìš”ì–‘ë³´í˜¸ì‚¬", "ëŒë´„"]
            },
            "ì•„ì´ëŒë³´ë¯¸": { 
                category: "ëŒë´„", 
                physical: "medium", 
                social: "high", 
                stress: "medium", 
                skill: "low", 
                description: "ê°€ì •ì—ì„œ ì•„ì´ë“¤ì„ ëŒë³´ê³  ìœ¡ì•„ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.",
                keywords: ["ë„ìš°ë¯¸", "ì•„ì´ëŒë´„", "ìœ¡ì•„"]
            },
            "ì‹œì„¤Â·ì„¤ë¹„ ê´€ë¦¬ì›": { 
                category: "ê¸°ìˆ ", 
                physical: "medium", 
                social: "low", 
                stress: "medium", 
                skill: "high", 
                description: "ê±´ë¬¼ ì„¤ë¹„, ì‹œì„¤, ì „ê¸° ë“±ì˜ ìœ ì§€ë³´ìˆ˜ì™€ ê´€ë¦¬ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["ì„¤ë¹„", "ì‹œì„¤", "ì „ê¸°"]
            },
            "êµìœ¡ ì¢…ì‚¬ì": { 
                category: "êµìœ¡", 
                physical: "low", 
                social: "high", 
                stress: "medium", 
                skill: "high", 
                description: "ë°©ê³¼í›„ êµì‚¬, ì‹œë‹ˆì–´ ê°•ì‚¬ ë“± êµìœ¡ ë¶„ì•¼ì—ì„œ í™œë™í•©ë‹ˆë‹¤.",
                keywords: ["êµì‚¬", "ê°•ì‚¬", "êµìœ¡"]
            },
            "ì‚¬íšŒë³µì§€ì‚¬": { 
                category: "ë³µì§€", 
                physical: "low", 
                social: "high", 
                stress: "high", 
                skill: "high", 
                description: "ë³µì§€ ëŒ€ìƒìì˜ ìƒë‹´ê³¼ ì§€ì› ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
                keywords: ["ì‚¬íšŒë³µì§€ì‚¬", "ë³µì§€"]
            },
            "í™˜ê²½ë¯¸í™”ì›": { 
                category: "ìœ„ìƒ", 
                physical: "high", 
                social: "low", 
                stress: "low", 
                skill: "low", 
                description: "ê±´ë¬¼ì´ë‚˜ ê±°ë¦¬ì˜ ì²­ì†Œì™€ í™˜ê²½ ë¯¸í™”ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["ë¯¸í™”", "ì²­ì†Œ", "í™˜ê²½"]
            },
            "ê²½ë¹„ì›": { 
                category: "ë³´ì•ˆ", 
                physical: "low", 
                social: "medium", 
                stress: "low", 
                skill: "low", 
                description: "ê±´ë¬¼ì´ë‚˜ ì‹œì„¤ì˜ ì•ˆì „ì„ ì§€í‚¤ê³  ì¶œì…ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.",
                keywords: ["ê²½ë¹„", "ë³´ì•ˆ"]
            },
            "ìš´ì „ì›": { 
                category: "ìš´ì†¡", 
                physical: "medium", 
                social: "medium", 
                stress: "medium", 
                skill: "medium", 
                description: "íƒì‹œ, ë²„ìŠ¤, ë°°ì†¡ ë“± ìš´ì „ ì—…ë¬´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["ìš´ì „", "íƒì‹œ", "ë²„ìŠ¤", "ë°°ì†¡"]
            },
            "ì„œë¹„ìŠ¤ì§ ì¢…ì‚¬ì": { 
                category: "ì„œë¹„ìŠ¤", 
                physical: "medium", 
                social: "high", 
                stress: "medium", 
                skill: "low", 
                description: "ìŒì‹ì , íŒë§¤ì  ë“±ì—ì„œ ê³ ê° ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
                keywords: ["ì„œë¹„ìŠ¤", "ì„œë¹™", "íŒë§¤"]
            },
            "ì‚¬ë¬´ì§ì›": { 
                category: "ì‚¬ë¬´", 
                physical: "low", 
                social: "medium", 
                stress: "medium", 
                skill: "medium", 
                description: "ì¼ë°˜ ì‚¬ë¬´, í–‰ì • ì§€ì› ë“±ì˜ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                keywords: ["ì‚¬ë¬´", "í–‰ì •", "ì‚¬ë¬´ì›", "ì‚¬ì„œ", "ì•ˆë‚´"]
            },
            "ì•½êµ­ ì‚¬ë¬´ì›": { 
                category: "ì˜ë£Œì‚¬ë¬´", 
                physical: "low", 
                social: "high", 
                stress: "medium", 
                skill: "medium", 
                description: "ì•½êµ­ì—ì„œ ì²˜ë°©ì „ ì ‘ìˆ˜, ì•½í’ˆ ê´€ë¦¬ ë“± ì‚¬ë¬´ ì—…ë¬´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
                keywords: ["ì•½êµ­ì‚¬ë¬´ì›", "ì•½êµ­", "ì˜ë£Œì‚¬ë¬´"]
            },
            "ë„ë³´ ë°°ë‹¬ì›": { 
                category: "ë°°ë‹¬", 
                physical: "high", 
                social: "low", 
                stress: "low", 
                skill: "low", 
                description: "ë„ë³´ë‚˜ ìì „ê±°ë¡œ ê·¼ê±°ë¦¬ ë°°ë‹¬ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.",
                keywords: ["ë„ë³´ë°°ë‹¬ì›", "ë°°ë‹¬", "ë°°ì†¡"]
            }
        };

        // ì§ˆë¬¸ ë°ì´í„°
        const questions = [
            {
                text: "í•˜ë£¨ ì¤‘ ê°€ì¥ í™œë ¥ì´ ë„˜ì¹˜ëŠ” ì‹œê°„ëŒ€ëŠ” ì–¸ì œì¸ê°€ìš”?",
                options: [
                    { text: "ì•„ì¹¨ ì¼ì° (ì˜¤ì „ 6-9ì‹œ)", value: { physical: 2, morning: 3 } },
                    { text: "ì˜¤ì „ ì¤‘ (ì˜¤ì „ 9-12ì‹œ)", value: { physical: 1, morning: 2 } },
                    { text: "ì˜¤í›„ (ì˜¤í›„ 12-6ì‹œ)", value: { physical: 1, morning: 1 } },
                    { text: "ì €ë… (ì˜¤í›„ 6ì‹œ ì´í›„)", value: { physical: 0, morning: 0 } }
                ]
            },
            {
                text: "ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ì¼í•˜ëŠ” ê²ƒì„ ì–¼ë§ˆë‚˜ ì¢‹ì•„í•˜ì‹œë‚˜ìš”?",
                options: [
                    { text: "ë§¤ìš° ì¢‹ì•„í•¨ - ëŠ˜ ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ìˆê³  ì‹¶ìŒ", value: { social: 3 } },
                    { text: "ì¢‹ì•„í•¨ - ì ë‹¹í•œ êµë¥˜ë¥¼ ì„ í˜¸", value: { social: 2 } },
                    { text: "ë³´í†µ - í˜¼ì ì¼í•˜ëŠ” ê²ƒë„ ê´œì°®ìŒ", value: { social: 1 } },
                    { text: "í˜¼ì ì¼í•˜ëŠ” ê²ƒì„ ì„ í˜¸", value: { social: 0 } }
                ]
            },
            {
                text: "ìœ¡ì²´ì  í™œë™ì— ëŒ€í•œ ì„ í˜¸ë„ëŠ” ì–´ë– ì‹ ê°€ìš”?",
                options: [
                    { text: "í™œë°œí•œ ìœ¡ì²´ í™œë™ì„ ì„ í˜¸", value: { physical: 3 } },
                    { text: "ì ë‹¹í•œ ì›€ì§ì„ì´ ìˆëŠ” ì¼ì„ ì„ í˜¸", value: { physical: 2 } },
                    { text: "ê°€ë²¼ìš´ í™œë™ ì •ë„ë§Œ ì„ í˜¸", value: { physical: 1 } },
                    { text: "ì£¼ë¡œ ì•‰ì•„ì„œ í•˜ëŠ” ì¼ì„ ì„ í˜¸", value: { physical: 0 } }
                ]
            },
            {
                text: "ì–´ë–¤ ë¶„ì•¼ì—ì„œ ì¼í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?",
                options: [
                    { text: "ëŒë´„/ë³µì§€ ë¶„ì•¼ (ì‚¬ëŒì„ ì§ì ‘ ë•ëŠ” ì¼)", value: { care: 3, service: 2 } },
                    { text: "êµìœ¡/ì§€ë„ ë¶„ì•¼ (ì§€ì‹ê³¼ ê²½í—˜ ì „ë‹¬)", value: { education: 3, social: 2 } },
                    { text: "ê¸°ìˆ /ê´€ë¦¬ ë¶„ì•¼ (ì‹œì„¤ì´ë‚˜ ì¥ë¹„ ê´€ë¦¬)", value: { technical: 3, physical: 1 } },
                    { text: "ì„œë¹„ìŠ¤/ì‚¬ë¬´ ë¶„ì•¼ (ê³ ê° ì‘ëŒ€ ë° í–‰ì •)", value: { service: 3, office: 2 } }
                ]
            },
            {
                text: "ê·¼ë¬´ í™˜ê²½ìœ¼ë¡œ ì„ í˜¸í•˜ëŠ” ê³³ì€?",
                options: [
                    { text: "ì‹¤ë‚´ ì‚¬ë¬´ì‹¤ì´ë‚˜ ì‹œì„¤", value: { indoor: 3, physical: 0 } },
                    { text: "ì‹¤ë‚´ì™¸ë¥¼ ì˜¤ê°€ë©° ì¼í•˜ëŠ” í™˜ê²½", value: { indoor: 2, physical: 1 } },
                    { text: "ì£¼ë¡œ ì•¼ì™¸ì—ì„œ ì¼í•˜ëŠ” í™˜ê²½", value: { outdoor: 3, physical: 2 } },
                    { text: "ì´ë™í•˜ë©° ì¼í•˜ëŠ” í™˜ê²½", value: { mobile: 3, physical: 1 } }
                ]
            },
            {
                text: "ìê²©ì¦ì´ë‚˜ íŠ¹ë³„í•œ ê¸°ìˆ  ìŠµë“ì— ëŒ€í•œ ì˜í–¥ì€?",
                options: [
                    { text: "ì ê·¹ì ìœ¼ë¡œ ìƒˆë¡œìš´ ìê²©ì¦ ì·¨ë“ í¬ë§", value: { learning: 3 } },
                    { text: "í•„ìš”í•˜ë‹¤ë©´ ê°„ë‹¨í•œ êµìœ¡ ì´ìˆ˜ ê°€ëŠ¥", value: { learning: 2 } },
                    { text: "ê¸°ì¡´ ê²½í—˜ì„ í™œìš©í•˜ê³  ì‹¶ìŒ", value: { learning: 1 } },
                    { text: "íŠ¹ë³„í•œ êµìœ¡ ì—†ì´ ë°”ë¡œ ì¼í•˜ê³  ì‹¶ìŒ", value: { learning: 0 } }
                ]
            },
            {
                text: "ì„ í˜¸í•˜ëŠ” ê·¼ë¬´ ì‹œê°„ëŒ€ëŠ”?",
                options: [
                    { text: "ì •ê·œ ê·¼ë¬´ ì‹œê°„ (9 to 6)", value: { regular: 3 } },
                    { text: "íŒŒíŠ¸íƒ€ì„ (í•˜ë£¨ 2-4ì‹œê°„)", value: { parttime: 3 } },
                    { text: "êµëŒ€ ê·¼ë¬´ë„ ê°€ëŠ¥", value: { shift: 3 } },
                    { text: "ìœ ì—°í•œ ê·¼ë¬´ ì‹œê°„ ì„ í˜¸", value: { flexible: 3 } }
                ]
            },
            {
                text: "ì±…ì„ê°ì˜ ì •ë„ëŠ” ì–´ëŠ ì •ë„ë¥¼ ì›í•˜ì‹œë‚˜ìš”?",
                options: [
                    { text: "ë†’ì€ ì±…ì„ê°ê³¼ ììœ¨ì„±ì„ ê°€ì§„ ì—…ë¬´", value: { responsibility: 3 } },
                    { text: "ì ë‹¹í•œ ì±…ì„ê°ì´ ìˆëŠ” ì—…ë¬´", value: { responsibility: 2 } },
                    { text: "ëª…í™•í•œ ì§€ì‹œì— ë”°ë¥´ëŠ” ì—…ë¬´", value: { responsibility: 1 } },
                    { text: "ë‹¨ìˆœí•˜ê³  ë°˜ë³µì ì¸ ì—…ë¬´", value: { responsibility: 0 } }
                ]
            },
            {
                text: "ê°€ì¥ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ê²ƒì€?",
                options: [
                    { text: "ì•ˆì •ì ì¸ ì†Œë“", value: { income: 3 } },
                    { text: "ì¼ê³¼ ì‚¶ì˜ ê· í˜•", value: { balance: 3, flexible: 2 } },
                    { text: "ì‚¬íšŒ ê¸°ì—¬ì™€ ë³´ëŒ", value: { service: 3, satisfaction: 3 } },
                    { text: "ìƒˆë¡œìš´ ë„ì „ê³¼ ì„±ì¥", value: { learning: 2, satisfaction: 2 } }
                ]
            },
            {
                text: "ê³¼ê±° ê²½ë ¥ì´ë‚˜ íŠ¹ê¸°ê°€ ìˆë‹¤ë©´ ì–´ë–¤ ë¶„ì•¼ì¸ê°€ìš”?",
                options: [
                    { text: "ì‚¬ë¬´/ê´€ë¦¬/í–‰ì • ë¶„ì•¼", value: { office: 3 } },
                    { text: "ê¸°ìˆ /ìƒì‚°/ì œì¡° ë¶„ì•¼", value: { technical: 3 } },
                    { text: "ì„œë¹„ìŠ¤/íŒë§¤ ë¶„ì•¼", value: { service: 3 } },
                    { text: "íŠ¹ë³„í•œ ê²½ë ¥ ì—†ìŒ/ìƒˆë¡œìš´ ë„ì „", value: { new: 3 } }
                ]
            }
        ];

        let currentQuestion = 0;
        let answers = [];
        let selectedOption = null;
        let selectedJob = null;

        function startTest() {
            document.getElementById('locationScreen').style.display = 'none';
            document.getElementById('questionScreen').style.display = 'block';
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestion];
            document.getElementById('questionNumber').textContent = `ì§ˆë¬¸ ${currentQuestion + 1}/10`;
            document.getElementById('questionText').textContent = question.text;
            
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.innerHTML = `
                    <span class="option-letter">${String.fromCharCode(65 + index)}</span>
                    <span class="option-text">${option.text}</span>
                `;
                optionDiv.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionDiv);
            });
            
            updateProgress();
            updateNavigation();
            selectedOption = null;
        }

        function selectOption(index) {
            selectedOption = index;
            
            document.querySelectorAll('.option').forEach((option, i) => {
                option.classList.toggle('selected', i === index);
            });
            
            // ì„ íƒ í›„ ìë™ìœ¼ë¡œ ë‹¤ìŒ ì§ˆë¬¸ìœ¼ë¡œ ì´ë™
            setTimeout(() => {
                nextQuestion();
            }, 300);
        }

        function nextQuestion() {
            if (selectedOption === null) return;
            
            answers[currentQuestion] = questions[currentQuestion].options[selectedOption].value;
            selectedAnswers[currentQuestion] = selectedOption + 1; // 1ë¶€í„° ì‹œì‘í•˜ëŠ” ë²ˆí˜¸ë¡œ ì €ì¥
            
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                showResults();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function updateNavigation() {
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
        }

        function calculateScores() {
            const scores = {};
            
            // ê° ì§ì—…ë³„ ì ìˆ˜ ê³„ì‚°
            Object.keys(jobCategories).forEach(job => {
                scores[job] = 0;
                const jobInfo = jobCategories[job];
                
                // ë‹µë³€ê³¼ ì§ì—… íŠ¹ì„± ë§¤ì¹­
                answers.forEach(answer => {
                    // ì‹ ì²´ í™œë™ ì„ í˜¸ë„ ë§¤ì¹­
                    if (answer.physical !== undefined) {
                        if (jobInfo.physical === "high" && answer.physical >= 2) scores[job] += 3;
                        else if (jobInfo.physical === "medium" && answer.physical >= 1 && answer.physical <= 2) scores[job] += 3;
                        else if (jobInfo.physical === "low" && answer.physical <= 1) scores[job] += 3;
                    }
                    
                    // ì‚¬íšŒì  ìƒí˜¸ì‘ìš© ì„ í˜¸ë„ ë§¤ì¹­
                    if (answer.social !== undefined) {
                        if (jobInfo.social === "high" && answer.social >= 2) scores[job] += 3;
                        else if (jobInfo.social === "medium" && answer.social >= 1 && answer.social <= 2) scores[job] += 3;
                        else if (jobInfo.social === "low" && answer.social <= 1) scores[job] += 3;
                    }
                    
                    // ìŠ¤íŠ¸ë ˆìŠ¤ ë‚´ì„±ê³¼ ì±…ì„ê° ë§¤ì¹­
                    if (answer.responsibility !== undefined) {
                        if (jobInfo.stress === "high" && answer.responsibility >= 2) scores[job] += 2;
                        else if (jobInfo.stress === "medium" && answer.responsibility >= 1 && answer.responsibility <= 2) scores[job] += 2;
                        else if (jobInfo.stress === "low" && answer.responsibility <= 1) scores[job] += 2;
                    }
                    
                    // ê¸°ìˆ  ìˆ™ë ¨ë„ì™€ í•™ìŠµ ì˜í–¥ ë§¤ì¹­
                    if (answer.learning !== undefined) {
                        if (jobInfo.skill === "high" && answer.learning >= 2) scores[job] += 2;
                        else if (jobInfo.skill === "medium" && answer.learning >= 1 && answer.learning <= 2) scores[job] += 2;
                        else if (jobInfo.skill === "low" && answer.learning <= 1) scores[job] += 2;
                    }
                    
                    // ì¹´í…Œê³ ë¦¬ë³„ ì¶”ê°€ ì ìˆ˜
                    
                    if (answer.care && jobInfo.category === "ëŒë´„") scores[job] += answer.care * 2;
                    if (answer.education && jobInfo.category === "êµìœ¡") scores[job] += answer.education * 2;
                    if (answer.technical && jobInfo.category === "ê¸°ìˆ ") scores[job] += answer.technical * 5; // ì‹œì„¤Â·ì„¤ë¹„ ê´€ë¦¬ì› ê°€ì¤‘ì¹˜ ì¦ê°€
                    if (answer.service && jobInfo.category === "ëŒë´„") scores[job] += answer.service; // ì„œë¹„ìŠ¤ ê°€ì¤‘ì¹˜ë¥¼ ëŒë´„ ë¶„ì•¼ì—ë§Œ ì ìš©
                    if (answer.service && jobInfo.category === "ì„œë¹„ìŠ¤") scores[job] += Math.floor(answer.service * 0.8); // ì„œë¹„ìŠ¤ì§ ê°€ì¤‘ì¹˜ ëŒ€í­ ê°ì†Œ
                    if (answer.office && (jobInfo.category === "ì‚¬ë¬´" || jobInfo.category === "ì˜ë£Œì‚¬ë¬´")) scores[job] += answer.office * 2;
                    
                    // íŠ¹ë³„ ë³´ë„ˆìŠ¤
                    if (answer.morning && jobInfo.category === "ìš´ì†¡") scores[job] += 2;
                    if (answer.morning && jobInfo.category === "ìœ„ìƒ") scores[job] += 2;
                    if (answer.morning && jobInfo.category === "ë°°ë‹¬") scores[job] += 2;
                    if (answer.flexible && jobInfo.category === "êµìœ¡") scores[job] += 2;
                    
                    // íŒŒíŠ¸íƒ€ì„ ì„ íƒ ì‹œ êµìœ¡ ì¢…ì‚¬ì(ì‹œë‹ˆì–´ê°•ì‚¬)ì— ë§¤ìš° ë†’ì€ ê°€ì¤‘ì¹˜
                    if (answer.parttime && job === "êµìœ¡ ì¢…ì‚¬ì") scores[job] += 50;
                    if (answer.parttime && job === "ë„ë³´ ë°°ë‹¬ì›") scores[job] += 2;
                    
                    if (answer.regular && (jobInfo.category === "ì‚¬ë¬´" || jobInfo.category === "ì˜ë£Œì‚¬ë¬´")) scores[job] += 2;
                    if (answer.shift && jobInfo.category === "ë³´ì•ˆ") scores[job] += 2;
                    
                    // ê·¼ë¬´ í™˜ê²½ ë§¤ì¹­
                    if (answer.indoor && (jobInfo.category === "ì‚¬ë¬´" || jobInfo.category === "êµìœ¡" || jobInfo.category === "ì˜ë£Œì‚¬ë¬´")) scores[job] += 2;
                    if (answer.outdoor && (jobInfo.category === "ìœ„ìƒ" || jobInfo.category === "ë°°ë‹¬")) scores[job] += 2;
                    if (answer.mobile && (jobInfo.category === "ìš´ì†¡" || jobInfo.category === "ë°°ë‹¬")) scores[job] += 3;
                    
                    // ì†Œë“ê³¼ ë§Œì¡±ë„ ë§¤ì¹­
                    if (answer.income >= 2 && (jobInfo.category === "ê¸°ìˆ " || jobInfo.category === "ìš´ì†¡")) scores[job] += 1;
                    if (answer.satisfaction >= 2 && (jobInfo.category === "êµìœ¡" || jobInfo.category === "ë³µì§€" || jobInfo.category === "ëŒë´„")) scores[job] += 1;
                    if (answer.balance >= 2 && (jobInfo.category === "ì‚¬ë¬´" || jobInfo.category === "ì˜ë£Œì‚¬ë¬´")) scores[job] += 1;
                    
                    // ê²½ë ¥ ë§¤ì¹­
                    if (answer.office && (jobInfo.category === "ì‚¬ë¬´" || jobInfo.category === "ì˜ë£Œì‚¬ë¬´")) scores[job] += 3;
                    if (answer.technical && jobInfo.category === "ê¸°ìˆ ") scores[job] += 3;
                    if (answer.service && jobInfo.category === "ì„œë¹„ìŠ¤") scores[job] += 3;
                    if (answer.new && jobInfo.skill === "low") scores[job] += 2;
                });
            });
            
            // ìƒìœ„ 3ê°œ ì§ì—… ì„ íƒ
            const sortedJobs = Object.entries(scores)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 3)
                .map(([job, score], index) => {
                    // 1ìœ„ëŠ” 85-95%, 2ìœ„ëŠ” 75-85%, 3ìœ„ëŠ” 65-75%
                    const baseRate = index === 0 ? 85 : index === 1 ? 75 : 65;
                    const bonus = Math.min(10, Math.floor(score / 5));
                    return { 
                        job, 
                        score, 
                        matchRate: baseRate + bonus
                    };
                });
            
            return sortedJobs;
        }

        function showResults() {
            document.getElementById('questionScreen').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';
            
            const recommendedJobs = calculateScores();
            const jobsContainer = document.getElementById('recommendedJobs');
            jobsContainer.innerHTML = '';
            
            recommendedJobs.forEach((result, index) => {
                const jobInfo = jobCategories[result.job];
                const jobDiv = document.createElement('div');
                jobDiv.className = 'job-item';
                jobDiv.onclick = () => selectJob(result.job);
                jobDiv.innerHTML = `
                    <div>
                        <span class="job-rank">${index + 1}</span>
                        <span class="job-name">${result.job}</span>
                        <span class="job-match">${result.matchRate}% ì í•©</span>
                    </div>
                    <div class="job-description">${jobInfo.description}</div>
                `;
                jobsContainer.appendChild(jobDiv);
            });
            
            // Supabaseì— ê²°ê³¼ ì €ì¥
            saveResultsToSupabase(recommendedJobs);
        }
        
        // Supabaseì— ê²°ê³¼ ì €ì¥í•˜ëŠ” í•¨ìˆ˜
        async function saveResultsToSupabase(recommendedJobs) {
            // Supabaseê°€ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìœ¼ë©´ ì €ì¥í•˜ì§€ ì•ŠìŒ
            if (!supabase) {
                console.log('Supabaseê°€ ì„¤ì •ë˜ì§€ ì•Šì•„ ê²°ê³¼ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;
            }
            
            try {
                // IP ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸° (ì„ íƒì‚¬í•­)
                let ipAddress = null;
                try {
                    const ipResponse = await fetch('https://api.ipify.org?format=json');
                    const ipData = await ipResponse.json();
                    ipAddress = ipData.ip;
                } catch (ipError) {
                    console.log('IP ì£¼ì†Œë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', ipError);
                }
                
                // ì„¸ì…˜ ID ê°€ì ¸ì˜¤ê¸°
                const sessionId = getOrCreateSessionId();
                
                // Claude.ai í™˜ê²½ ì²´í¬
                const isClaudeEnvironment = typeof window !== 'undefined' && 
                                           window.location && 
                                           window.location.hostname.includes('claude.ai');
                
                // ì„ íƒí•œ ë‹µë³€ë“¤ì„ ë¬¸ìì—´ë¡œ ë³€í™˜ (ì˜ˆ: "1,2,4,2,1,2,3,4,1,1")
                const answersString = selectedAnswers.join(',');
                
                // ì¶”ê°€ ì‚¬ìš©ì ì •ë³´ ìˆ˜ì§‘
                const isReturningUser = !isClaudeEnvironment && localStorage.getItem('seniorJobTestUserId') ? true : false;
                const visitCount = !isClaudeEnvironment ? (parseInt(localStorage.getItem('seniorJobTestVisitCount') || '1')) : 1;
                
                const { data, error } = await supabase
                    .from('senior_job_test_results')
                    .insert([
                        {
                            session_id: sessionId,
                            job_1: recommendedJobs[0].job,
                            job_1_match_rate: recommendedJobs[0].matchRate,
                            job_2: recommendedJobs[1].job,
                            job_2_match_rate: recommendedJobs[1].matchRate,
                            job_3: recommendedJobs[2].job,
                            job_3_match_rate: recommendedJobs[2].matchRate,
                            answers: answersString,
                            location_city: userLocation,  // ì§€ì—­êµ¬ ì •ë³´ ì¶”ê°€
                            user_agent: navigator.userAgent,
                            ip_address: ipAddress
                        }
                    ]);
                
                if (error) {
                    console.error('ê²°ê³¼ ì €ì¥ ì¤‘ ì˜¤ë¥˜:', error);
                } else {
                    console.log('ê²°ê³¼ê°€ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    console.log('ì‚¬ìš©ì ID:', sessionId);
                    console.log('ì‚¬ìš©ì ì§€ì—­:', userLocation);
                    console.log('ì¬ë°©ë¬¸ ì‚¬ìš©ì:', isReturningUser);
                    console.log('ì´ ë°©ë¬¸ íšŸìˆ˜:', visitCount);
                    console.log('ì„ íƒí•œ ë‹µë³€:', answersString);
                }
            } catch (err) {
                console.error('Supabase ì—°ê²° ì˜¤ë¥˜:', err);
            }
        }

        function restartTest() {
            currentQuestion = 0;
            answers = [];
            selectedAnswers = [];
            selectedOption = null;
            selectedJob = null;
            userLocation = '';
            
            // ëª¨ë“  í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('resultScreen').style.display = 'none';
            document.getElementById('questionScreen').style.display = 'none';
            document.getElementById('locationScreen').style.display = 'none';
            // ì‹œì‘ í™”ë©´ í‘œì‹œ
            document.getElementById('startScreen').style.display = 'block';
            document.getElementById('progressFill').style.width = '0%';
            
            // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
            document.getElementById('locationInput').value = '';
            checkLocationInput();
        }
        
        function selectJob(job) {
            selectedJob = job;
            const jobInfo = jobCategories[job];
            
            // ì„ íƒ ëª¨ë‹¬ ìƒì„±
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white;
                padding: 40px;
                border-radius: 20px;
                max-width: 500px;
                width: 90%;
                text-align: center;
                box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            `;
            
            modalContent.innerHTML = `
                <h2 style="color: #333; margin-bottom: 10px;">ì„ íƒí•˜ì‹  ì§ì—…</h2>
                <div style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
                            border-radius: 15px;
                            padding: 20px;
                            margin-bottom: 30px;">
                    <div style="color: #667eea; font-size: 1.4em; font-weight: 600;">${job}</div>
                </div>
                <h3 style="color: #333; margin-bottom: 20px;">ê´€ë ¨ ê²½ë ¥ì´ë‚˜ ìê²©ì¦ì´ ìˆìœ¼ì‹ ê°€ìš”?</h3>
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <div onclick="handleQualification(true); document.body.removeChild(this.parentElement.parentElement.parentElement);"
                         style="background: white;
                                border: 2px solid #e9ecef;
                                border-radius: 15px;
                                padding: 20px;
                                cursor: pointer;
                                transition: all 0.3s ease;
                                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);"
                         onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-3px)'; this.style.boxShadow='0 5px 20px rgba(102, 126, 234, 0.2)';"
                         onmouseout="this.style.borderColor='#e9ecef'; this.style.transform='translateY(0)'; this.style.boxShadow='0 3px 10px rgba(0, 0, 0, 0.05)';">
                        <h4 style="color: #333; font-size: 1.2em; margin-bottom: 10px;">ğŸ“‹ ê²½ë ¥ì´ë‚˜ ìê²©ì¦ì´ ìˆìŒ</h4>
                        <p style="color: #666; font-size: 0.95em; line-height: 1.5; margin: 0;">
                            ê´€ë ¨ ë¶„ì•¼ì˜ ê²½ë ¥ì´ë‚˜ ìê²©ì¦ì„ ë³´ìœ í•˜ê³  ìˆì–´ ë°”ë¡œ ì§€ì› ê°€ëŠ¥í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                    <div onclick="handleQualification(false); document.body.removeChild(this.parentElement.parentElement.parentElement);"
                         style="background: white;
                                border: 2px solid #e9ecef;
                                border-radius: 15px;
                                padding: 20px;
                                cursor: pointer;
                                transition: all 0.3s ease;
                                box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);"
                         onmouseover="this.style.borderColor='#667eea'; this.style.transform='translateY(-3px)'; this.style.boxShadow='0 5px 20px rgba(102, 126, 234, 0.2)';"
                         onmouseout="this.style.borderColor='#e9ecef'; this.style.transform='translateY(0)'; this.style.boxShadow='0 3px 10px rgba(0, 0, 0, 0.05)';">
                        <h4 style="color: #333; font-size: 1.2em; margin-bottom: 10px;">ğŸ“š ê²½ë ¥ì´ë‚˜ ìê²©ì¦ì´ ì—†ìŒ</h4>
                        <p style="color: #666; font-size: 0.95em; line-height: 1.5; margin: 0;">
                            ìƒˆë¡­ê²Œ ë„ì „í•˜ê³ ì í•˜ë©°, í•„ìš”ì‹œ êµìœ¡ì´ë‚˜ ìê²©ì¦ ì·¨ë“ì„ ê³ ë ¤í•˜ê³  ìˆìŠµë‹ˆë‹¤.
                        </p>
                    </div>
                </div>
                <button onclick="document.body.removeChild(this.parentElement.parentElement);" 
                        style="margin-top: 20px;
                               background: #e9ecef;
                               color: #495057;
                               border: none;
                               padding: 12px 30px;
                               font-size: 1em;
                               border-radius: 50px;
                               cursor: pointer;
                               transition: all 0.3s ease;"
                        onmouseover="this.style.background='#dee2e6';"
                        onmouseout="this.style.background='#e9ecef';">
                    ì·¨ì†Œ
                </button>
            `;
            
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
        }
        
        function handleQualification(hasQualification) {
            const jobInfo = jobCategories[selectedJob];
            
            // ì•½êµ­ ì‚¬ë¬´ì›ê³¼ ë„ë³´ ë°°ë‹¬ì›ì€ ìê²©ì¦ ìœ ë¬´ì™€ ê´€ê³„ì—†ì´ ì˜¤ë¹„ì„œ ì•±ìœ¼ë¡œ ì—°ê²°
            if (selectedJob === "ì•½êµ­ ì‚¬ë¬´ì›" || selectedJob === "ë„ë³´ ë°°ë‹¬ì›") {
                showObiseoModal();
                return;
            }
            
            if (hasQualification) {
                // ê³ ìš©24ë¡œ ì´ë™ - ì²« ë²ˆì§¸ í‚¤ì›Œë“œë§Œ ì‚¬ìš©
                const searchKeyword = jobInfo.keywords[0];
                
                // ì œì™¸ ê²€ìƒ‰ì–´ ì„¤ì •
                const allExcludeKeywords = ['ìš”ì–‘', 'ë¯¸í™”ì›', 'ê²½ë¹„', 'ë³´ì•ˆ', 'ìš´ì „', 'ê´€ë¦¬ì†Œì¥', 'ì²­ì†Œì›', 'ì‹œì„¤'];
                
                // ê²€ìƒ‰ í‚¤ì›Œë“œì— í¬í•¨ëœ ë‹¨ì–´ë“¤ì„ ì œì™¸ ê²€ìƒ‰ì–´ì—ì„œ ì œê±°
                const excludeKeywords = allExcludeKeywords.filter(excludeWord => {
                    // í˜„ì¬ ì§ì—…ì˜ ëª¨ë“  í‚¤ì›Œë“œë¥¼ í™•ì¸
                    return !jobInfo.keywords.some(keyword => 
                        keyword.includes(excludeWord) || excludeWord.includes(keyword)
                    );
                });
                
                const baseUrl = 'https://www.work24.go.kr/wk/a/b/1200/retriveDtlEmpSrchList.do';
                const params = new URLSearchParams({
                    'srcKeyword': searchKeyword,
                    'notSrcKeyword': excludeKeywords.join(','),
                    'region': '11000',
                    'regionParam': '11000',
                    'codeDepth1Info': '11000',
                    'codeDepth2Info': '11000',
                    'resultCnt': '10',
                    'sortField': 'DATE',
                    'sortOrderBy': 'DESC',
                    'siteClcd': 'all',
                    'searchMode': 'Y',
                    'academicGbnoEdu': 'noEdu',
                    'pageIndex': '1',
                    'currentPageNo': '1',
                    'pfMatterPreferential': 'B',  // ì¤‘ì¥ë…„ ìš°ëŒ€ ì„¤ì •
                    'moreButtonYn': 'Y'
                });
                
                // ìƒˆ ì°½ì—ì„œ ê³ ìš©24 ê²€ìƒ‰ ê²°ê³¼ ì—´ê¸°
                const searchUrl = `${baseUrl}?${params.toString()}#scrollLoc`;
                
                // ì•ˆë‚´ ëª¨ë‹¬ í‘œì‹œ
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.7);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 1000;
                `;
                
                const modalContent = document.createElement('div');
                modalContent.style.cssText = `
                    background: white;
                    padding: 40px;
                    border-radius: 20px;
                    max-width: 500px;
                    text-align: center;
                    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                `;
                
                modalContent.innerHTML = `
                    <h2 style="color: #333; margin-bottom: 20px;">${selectedJob} ì¼ìë¦¬ ì°¾ê¸°</h2>
                    <p style="color: #666; line-height: 1.8; margin-bottom: 30px;">
                        ê³ ìš©24(Work24) ì‚¬ì´íŠ¸ì—ì„œ<br>
                        <strong style="color: #667eea;">"${selectedJob}"</strong> ê´€ë ¨ ì¼ìë¦¬ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤.<br><br>
                        <span style="color: #667eea; font-weight: 600;">ì¤‘ì¥ë…„ ìš°ëŒ€</span> ì¡°ê±´ìœ¼ë¡œ ê²€ìƒ‰ë©ë‹ˆë‹¤.<br>
                        ìƒˆ ì°½ì—ì„œ ê²€ìƒ‰ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button onclick="
                            window.open('${searchUrl}', '_blank');
                            document.body.removeChild(this.parentElement.parentElement.parentElement);
                        " 
                                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                                       color: white; 
                                       border: none; 
                                       padding: 15px 30px; 
                                       border-radius: 50px; 
                                       cursor: pointer;
                                       font-size: 1.1em;">
                            ê³ ìš©24ì—ì„œ ê²€ìƒ‰í•˜ê¸°
                        </button>
                        <button onclick="document.body.removeChild(this.parentElement.parentElement.parentElement);" 
                                style="background: #e9ecef; 
                                       color: #495057; 
                                       border: none; 
                                       padding: 15px 30px; 
                                       border-radius: 50px; 
                                       cursor: pointer;
                                       font-size: 1.1em;">
                            ì·¨ì†Œ
                        </button>
                    </div>
                `;
                
                modal.appendChild(modalContent);
                document.body.appendChild(modal);
                
            } else {
                showObiseoModal();
            }
        }
        
        function showObiseoModal() {
            // ì˜¤ë¹„ì„œ ì•± ì•ˆë‚´ ëª¨ë‹¬
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white;
                padding: 40px;
                border-radius: 20px;
                max-width: 500px;
                text-align: center;
                box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            `;
            
            modalContent.innerHTML = `
                <h2 style="color: #333; margin-bottom: 20px;">${selectedJob} ì·¨ì—… ì •ë³´</h2>
                <p style="color: #666; line-height: 1.8; margin-bottom: 20px;">
                    <strong style="color: #667eea;">${selectedJob}</strong> ê´€ë ¨ ì •ë³´ë¥¼ ì°¾ê³  ê³„ì‹œëŠ”êµ°ìš”!
                </p>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <p style="color: #495057; line-height: 1.6; margin: 0;">
                        ì±„ìš© ì •ë³´ì™€ ìê²© ìš”ê±´ì„<br>
                        <strong style="color: #667eea;">ì˜¤ë¹„ì„œ ì•±</strong>ì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ì„¸ìš”!
                    </p>
                </div>
                <p style="color: #666; font-size: 0.9em; margin-bottom: 20px;">
                    ì‹œë‹ˆì–´ ë§ì¶¤í˜• ì·¨ì—… ì •ë³´ì™€<br>
                    ë‹¤ì–‘í•œ ì¼ìë¦¬ ì •ë³´ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                </p>
                <div style="display: flex; gap: 15px; justify-content: center;">
                    <button onclick="
                        window.open('https://play.google.com/store/apps/details?id=chatGPT_for_senior.myapplication&hl=ko', '_blank');
                        document.body.removeChild(this.parentElement.parentElement.parentElement);
                    " 
                            style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
                                   color: white; 
                                   border: none; 
                                   padding: 15px 30px; 
                                   border-radius: 50px; 
                                   cursor: pointer;
                                   font-size: 1.1em;">
                        ì˜¤ë¹„ì„œ ì•±ì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ê¸°
                    </button>
                    <button onclick="document.body.removeChild(this.parentElement.parentElement.parentElement);" 
                            style="background: #e9ecef; 
                                   color: #495057; 
                                   border: none; 
                                   padding: 15px 30px; 
                                   border-radius: 50px; 
                                   cursor: pointer;
                                   font-size: 1.1em;">
                        ë‹«ê¸°
                    </button>
                </div>
            `;
            
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
        }

        // í™”ë©´ í¬ê¸° ë³€ê²½ ì‹œ ëª¨ë°”ì¼ ë©”ë‰´ ìë™ ë‹«ê¸°
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                const sidebar = document.getElementById('sidebar');
                const overlay = document.getElementById('sidebarOverlay');
                sidebar.classList.remove('mobile-open');
                overlay.classList.remove('show');
            }
        });
    </script>
</body>
</html>